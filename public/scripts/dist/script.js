(()=>{var e={6809:()=>{window.changelog=[{version:"1.0.46",date_time:"2022-02-25 01PM",changes:"added resources in flights to overview"},{version:"1.0.45",date_time:"2022-02-23 01PM",changes:"added pagination for hostile spy reports"},{version:"1.0.44",date_time:"2022-02-20 06PM",changes:"added production sum in tooltip"},{version:"1.0.43",date_time:"2022-02-20 03PM",changes:"added an option to limit spy report history"},{version:"1.0.42",date_time:"2022-02-20 02PM",changes:"added reporter to spy reports"},{version:"1.0.41",date_time:"2022-02-20 08AM",changes:"added settings for individual friend- and enemy highlighting"},{version:"1.0.40",date_time:"2022-02-20 08AM",changes:"split settings into tabs"},{version:"1.0.39",date_time:"2022-02-20 06AM",changes:"added spy history headline with linked coordinates"},{version:"1.0.38",date_time:"2022-02-20 06AM",changes:"link coords in player card to galaxy view"},{version:"1.0.37",date_time:"2022-02-16 01AM",changes:"added expo buttons for KT"},{version:"1.0.36",date_time:"2022-02-16 01AM",changes:"bugfix for own planets not shown in overview"},{version:"1.0.35",date_time:"2022-02-15 11PM",changes:"added relative / absolute score development chart"},{version:"1.0.34",date_time:"2022-02-15 01PM",changes:"added relative score growth chart"},{version:"1.0.33",date_time:"2022-02-14 06PM",changes:"bugfixes for fleets"},{version:"1.0.32",date_time:"2022-02-14 08AM",changes:"refactored planet overview"},{version:"1.0.31",date_time:"2022-02-13 09AM",changes:"added mouseover for notifications/timers"},{version:"1.0.30",date_time:"2022-02-13 01AM",changes:"added expo fleet calculator (thanks to Hyman!)"},{version:"1.0.29",date_time:"2022-02-12 10PM",changes:"useless firework feature for Wile E. Coyote"},{version:"1.0.28",date_time:"2022-02-11 10AM",changes:"added transfer matrix to hub"},{version:"1.0.27",date_time:"2022-02-10 2PM",changes:"formatting/styling for AKS"},{version:"1.0.26",date_time:"2022-02-07 03AM",changes:"added hostile spying overview"},{version:"1.0.25",date_time:"2022-02-07 12PM",changes:"toggle overview column sorting (ASC/DESC); optimized fleet overview; bugfix for used slot count"},{version:"1.0.24",date_time:"2022-02-07 11PM",changes:"added spy report overview for galaxy view"},{version:"1.0.23",date_time:"2022-02-07 11PM",changes:"added loading indicator for hub pages"},{version:"1.0.22",date_time:"2022-02-07 11PM",changes:"added second sort item above coordinates in overview (sort by system)"},{version:"1.0.21",date_time:"2022-02-07 03PM",changes:"changed defense score to planet's defense score (player's defense score in mouseover)"},{version:"1.0.20",date_time:"2022-02-07 06AM",changes:"added alliance filter for hub's research page"},{version:"1.0.19",date_time:"2022-02-06 05PM",changes:"added galaxy update check page"},{version:"1.0.18",date_time:"2022-02-06 03PM",changes:"added link to rename/delete planet (overview)"},{version:"1.0.17",date_time:"2022-02-05 08AM",changes:"added hub page for raids & expos"},{version:"1.0.16",date_time:"2022-02-04 08PM",changes:"show fleet slot usage & expedition stats"},{version:"1.0.15",date_time:"2022-02-04 01PM",changes:"show score differenz and details at flight overview"},{version:"1.0.14",date_time:"2022-02-04 09AM",changes:"added fleet tracking and overview enhancement (show ship/res diffs)"},{version:"1.0.13",date_time:"2022-02-02 10PM",changes:"added the black hole event for expeditions (for Sky/Mama) <3"},{version:"1.0.12",date_time:"2022-02-01 11PM",changes:"made coordinates/player name/score in hub -> planets sortable"},{version:"1.0.11",date_time:"2022-02-01 11PM",changes:"mark planet's production red, when storage limits are exceeded"},{version:"1.0.10",date_time:"2022-02-01 11PM",changes:'added "observe" function for research (visible at overview)'},{version:"1.0.9",date_time:"2022-02-01 11PM",changes:'added "observe" function for buildings (visible at overview)'},{version:"1.0.8",date_time:"2022-02-01 11AM",changes:"added last attack/spy to galaxy view"},{version:"1.0.7",date_time:"2022-02-01 04AM",changes:"added chart for alliance page (score development per member)"},{version:"1.0.6",date_time:"2022-02-01 03AM",changes:"added own score as a reference to player score charts"},{version:"1.0.5",date_time:"2022-02-01 03AM",changes:"changed button styles at buildings/research page when not affordable"},{version:"1.0.4",date_time:"2022-02-01 2AM",changes:"added changelog page"},{version:"1.0.3",date_time:"2022-02-01 01AM",changes:"added resources to overview (visit resource page at planets to update)"},{version:"1.0.2",date_time:"2022-02-01 01AM",changes:'added "show_galaxy" setting'},{version:"1.0.1",date_time:"2022-01-31 06PM",changes:"security bypasses / bugfix"},{version:"1.0.0",date_time:"2022-01-31 05PM",changes:"stable release with auto updater"}]},7328:()=>{window.Menu=function(){this.init=function(){let e,t="";t+='<li><a style="color: #ee4d2e !important; font-size: 11px">pr0game Hub v'+version+"</a></li>",t+='<li><a href="#hub.planets"><i class="fa fa-globe-asia"></i> Planeten</a></li>',t+='<li><a href="#hub.research"><i class="fa fa-flask"></i> Forschung</a></li>',t+='<li><a href="#hub.fleet"><i class="fa fa-fighter-jet"></i> Flotte</a></li>',t+='<li><a href="#hub.score"><i class="fa fa-trophy"></i> Punkte</a></li>',t+='<li><a href="#hub.expos"><i class="fa fa-skull-crossbones"></i> Raids &amp; Expo</a></li>',t+='<li><a href="#hub.galaxy"><i class="fa fa-sync"></i> Gala-Aktualit√§t</a></li>',t+='<li><a href="#hub.hostile-spying"><i class="fa fa-eye"></i> Fremdspionage</a></li>',t+='<li><a href="#hub.changelog"><i class="fa fa-history"></i> Changelog</a></li>',$("ul#menu").prepend(t),$(".res_max").each((function(t,i){e=$(i).html(),$(i).html(e.replace(".000","K"))}))}}},3989:()=>{top.Colors=function(){this.list={black:[22,22,24],white:[242,245,244],red:[238,77,46],gray:[136,136,136],pink:[255,0,130],green:[92,184,92],blue:[0,143,255],yellow:[247,197,22],cyan:[0,255,255]},this.getRgb=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},this.black=function(){return this.getRgb(this.list.black)},this.white=function(){return this.getRgb(this.list.white)},this.red=function(){return this.getRgb(this.list.red)},this.gray=function(){return this.getRgb(this.list.gray)},this.pink=function(){return this.getRgb(this.list.pink)},this.green=function(){return this.getRgb(this.list.green)},this.blue=function(){return this.getRgb(this.list.blue)},this.yellow=function(){return this.getRgb(this.list.yellow)},this.cyan=function(){return this.getRgb(this.list.cyan)}}},6170:()=>{window.parsePageAlliance=function(){var e=window.location.href.match(/[\?\&]id=([(0-9]+)/i)[1]||0,t=$($("content table")[0]);t.append('<tr><th colspan="2">Planeten</th></tr>'),getJSON("alliances/"+e+"/planets",(function(e){200===e.status&&$.each(JSON.parse(e.responseText),(function(e,i){t.append('<tr><td style="text-align: left">'+i.coordinates+'</td><td style="text-align: left">'+i.name+"</td></tr>")}))})),displayAllianceChart(e)}},5550:()=>{window.PageBuildings=function(){const e=this;this.data=[],this.convertHtml=function(){$("content").addClass("buildings"),$(".infos, .infoso").each((function(t,i){$(i).addClass("building"),$($(i).find("div:nth-child(2)")).addClass("building-left"),$($(i).find("div:nth-child(3)")).addClass("building-right"),e.disableButtons($($(i).find("div:nth-child(3)"))),e.changeBuildTimeStyle($($(i).find("div:nth-child(3)")))})),$("content").html($("content").html().replace(/\(Stufe ([0-9]+)\)/g,'<br><span class="highlight">Stufe $1</span><br>'))},this.init=function(){const t=[];let i,a;this.convertHtml(),$(".buildn").each((function(e,n){i=$(n).html().match(/\.info\(([0-9]+)\)\"\>([^<]+)\<\/a\>/),a=$(n).html().match(/Stufe ([0-9]+)/),t.push({building_id:getInt(i[1]),level:a?getInt(a[1]):0})})),postJSON("planets/buildings",{coordinates:ownGalaxy+":"+ownSystem+":"+ownPlanet,buildings:t},(function(t){e.data=JSON.parse(t.responseText),$(".buildn").each((function(t,a){i=$(a).html().match(/\.info\(([0-9]+)\)\"\>([^<]+)\<\/a\>/),$(a).append("Max Stufe: "+e.data[i[1]].max_level),e.data[i[1]].max_level>0&&$(a).append('<div class="player_names">'+e.data[i[1]].player_names.replace(/,/g,", ")+"</div>")}))}))},this.disableButtons=function(t){if($(t).find(".text-red").length>0){$($(t).find(".build_submit")).addClass("text-gray"),$(t).parent().addClass("fade-"+(0===$(t).find(".build_submit").length?"25":"75"));let i=$($(t).parent().find(".building-right")),a=$(i.find("> span:first-child")).html(),n=ownGalaxy+":"+ownSystem+":"+ownPlanet,r=$($(t).parent().find(".buildn > a")).attr("onclick").match(/\(([0-9]+)\)/)[1],s=e.getCost("Metall",a),l=e.getCost("Kristall",a),o=e.getCost("Deuterium",a);if((new PlanetResourceNotification).hasNotification(n,r)){const e=(new PlanetResourceNotification).getFinishTime(n);i.append("<br><button onclick=\"(new PlanetResourceNotification().removeNotification('"+n+'\'))" style="color: '+getRgb(cRed)+'"><i class="fa fa-bell-slash"></i> baubar in <span class="notification-timer" data-timestamp="'+e+'">'+formatTimeDiff(e)+"</span></button>")}else i.append("<br><button onclick=\"(new PlanetResourceNotification().addNotification('"+n+"', '"+r+"',"+s+","+l+","+o+'))" style="color: '+getRgb(cGreen)+'"><i class="fa fa-bell"></i> benachrichtigen, wenn baubar</button>')}window.setInterval((function(){$(".notification-timer").each((function(){$(this).text(formatTimeDiff($(this).attr("data-timestamp")))}))}),1e3)},this.changeBuildTimeStyle=function(e){$(e).html($(e).html().replace(/(.*)Bauzeit\:(.*)/,'$1<span class="text-gray">Bauzeit: $2</span>'))},this.getCost=function(e,t){let i;switch(e){case"Metall":i=t.match(/\<a (.*)\>(Metall)\<\/a\>(.*)\<b(.*)\<span(.*)\>([.0-9]+)\<\//);break;case"Kristall":i=t.match(/\<a (.*)\>(Kristall)\<\/a\>(.*)\<b(.*)\<span(.*)\>([.0-9]+)\<\//);break;case"Deuterium":i=t.match(/\<a (.*)\>(Deuterium)\<\/a\>(.*)\<b(.*)\<span(.*)\>([.0-9]+)\<\//)}return i?getInt(i[6]):0}}},3551:()=>{window.PageFleet=function(){var e=this;this.data=[],this.maxPoints=2400,this.maxRessPoints=2400,this.maxFleetPoints=1250,this.fleet=[],this.init=function(){this.parseShips(),this.showExpoButton(),this.bindEnterKey()},this.parseShips=function(){const e=this;let t,i,a,n,r=[];$(".table519 tr").each((function(i,a){t=$(a).html().replace(/\n/,"").match(/id\=\"ship([0-9]+)\_value\"\>([\.0-9]+)\</),t&&(e.fleet.push({ship_id:getInt(t[1]),amount:getInt(t[2])}),r.push({ship_id:getInt(t[1]),amount:getInt(t[2])}))})),$("content > table:first-child > tbody > tr").each((function(e,s){$(s).find("td").length>1&&(i=$(s).find("td:nth-child(3)").html(),a=$(s).find("td:nth-child(4)").html().match(/\[([0-9]+)\:([0-9]+)\:([0-9]+)\]/),n=i.match(/\'\>([^<]+)\:\<\/td\>\<td class\=\'transparent\'\>([\.0-9]+)\</g),n&&a[1]==ownGalaxy&&a[2]==ownSystem&&a[3]==ownPlanet&&$.each(n,(function(e,i){t=i.match(/\'\>([^<]+)\:\<\/td\>\<td class\=\'transparent\'\>([\.0-9]+)\</),t&&r.push({ship_id:t[1],amount:getInt(t[2])})})))})),postJSON("planets/fleet",{coordinates:ownGalaxy+":"+ownSystem+":"+ownPlanet,fleet:r},(function(t){e.data=JSON.parse(t.responseText);let i='<br><table class="table 519" style="max-width: 519px !important"><tr><th style="text-align: left">Schiffstyp</th><th style="text-align: right">Anzahl (planet√ºbergreifend)</th><th style="text-align: right">Punkte</th><th style="text-align: right">Ben. Recs</th></tr>';$.each(e.data,(function(e,t){i+="<tr>",i+='<td style="text-align: left">'+t.name+"</td>",i+='<td style="text-align: right">'+numberFormat(t.sum)+"</td>",i+='<td style="text-align: right">'+numberFormat(t.score)+"</td>",i+='<td style="text-align: right">'+numberFormat(t.recs)+"</td>",i+="</tr>"})),$("content").append(i+'</table><p style="max-width: 519px !important; margin: 10px auto"><i>Diese Anzahl der stationierten und in der Luft befindlichen Schiffe (Aktiver Planet = Startplanet) wird aktualisiert, sobald die entsprechende Flottenseite des Planeten ge√∂ffnet wird.<br><br>Nach Kampf mit Verlust, werden die verlorenen Schiffe also erst nach Aufruf der Flottenansicht am Startplaneten aktualisiert. Nach Schiffsbau v.v.<br><br>Nach erfolgreicher Stationierung m√ºssen somit die Flottenseiten von Start- und Zielplanet zur Aktualisierung ge√∂ffnet werden.</i></p>')}))},this.showExpoButton=function(){$(".table519").each((function(e,t){-1!==$(t).html().search(/Neuer Auftrag:/)&&($(t).find("tr th").append('<span style="margin-left: 20px">Expo GT:</span> <a class="text-red" href="javascript:void(0)" onclick="pageFleet.setExpoFleet()">Ress</a> '),$(t).find("tr th").append('<a class="text-red" href="javascript:void(0)" onclick="pageFleet.setExpoFleet(true)">Schiffe</a> // '),$(t).find("tr th").append('Expo KT: <a class="text-red" href="javascript:void(0)" onclick="pageFleet.setExpoFleet(false, false)">Ress</a> '),$(t).find("tr th").append('<a class="text-red" href="javascript:void(0)" onclick="pageFleet.setExpoFleet(true, false)">Schiffe</a>'))}))},this.setExpoFleet=function(t=!1,i=!0){this.maxPoints=t?this.maxFleetPoints:this.maxRessPoints;let a,n=e.maxPoints;const r=JSON.parse(JSON.stringify(this.fleet));a=this.getShip(210),a&&0!==a.amount?(r[a.offset].used=(r[a.offset].used||0)+1,r[a.offset].amount--,n=e.subExpoPoints(n,210,1)):[].push("Es ist keine Spionagesonde vorhanden!");let s=!1;$.each([211,215,207,206,205,204],(function(t,i){s||(a=e.getShip(i),a&&(n=e.subExpoPoints(n,a.ship_id,1),s=!0,r[a.offset].used=(r[a.offset].used||0)+1,r[a.offset].amount--))}));const l=i?[203,202,204,205,206,207,215,211]:[202,203,204,205,206,207,215,211];let o,d,c;$.each(l,(function(t,i){a=e.getShip(i),a&&(o=e.getPointsPerShip(a.ship_id),d=Math.floor(n/o),d>r[a.offset].amount&&(d=r[a.offset].amount),n=e.subExpoPoints(n,a.ship_id,d),r[a.offset].used=(r[a.offset].used||0)+d,r[a.offset].amount-=d)})),a=this.getShip(210),a&&(o=e.getPointsPerShip(a.ship_id),d=Math.floor(n/o),d>r[a.offset].amount&&(d=r[a.offset].amount),n=e.subExpoPoints(n,a.ship_id,d),r[a.offset].used=(r[a.offset].used||0)+d,r[a.offset].amount-=d),$.each(r,(function(e,t){c=$("#ship"+t.ship_id+"_input"),c.val(t.used||0),c.parent().css("text-align","left")})),this.updatePoints()},this.updatePoints=function(){let t,i,a,n=0;$(".table519").each((function(r,s){-1!==$(s).html().search(/Neuer Auftrag:/)&&($($(s).find("input")).each((function(a,r){-1!==r.outerHTML.search(/name\=/)&&(i=$(r).attr("name").replace(/ship/,""),t=e.getPointsPerShip(i)*getInt($(r).val()),n+=t,$(r).change((function(){pageFleet.updatePoints()})),$($(r).parent().parent().find(".helper")).remove(),$(r).parent().parent().append('<td class="helper text-right" style="margin-left: 10px; width: 200px">'+numberFormat(t)+" Expo-Punkte</td>"))})),a=e.maxPoints!==n?"text-blue":"text-green",a=e.maxPoints>n?"text-red":a,$(".helper-headline").remove(),$(".table519 tr:nth-child(2)").append('<td class="helper-headline text-right"><span class="'+a+'">'+numberFormat(n)+"</span> / "+numberFormat(e.maxPoints)+" Expo-Punkte</td>"))}))},this.getShip=function(e){for(i=0;i<this.fleet.length;i++)if(e===this.fleet[i].ship_id)return this.fleet[i].offset=i,this.fleet[i];return null},this.getPointsPerShip=function(e){return 5*{202:4,203:12,204:4,205:10,206:27,207:60,208:30,209:16,210:1,211:75,213:110,214:9e3,215:70}[e]},this.subExpoPoints=function(e,t,i){return e-(this.getPointsPerShip(t)||0)*(i||0)},this.bindEnterKey=function(){$(window).keyup((function(e){1===$("content form").length&&0===$("*:focus").length&&"Enter"===e.key&&$("content .table519 form").submit()}))}}},8164:()=>{window.PageGalaxy=function(){this.init=function(){this.parsePlanetIds(),this.enhanceList()},this.parsePlanetIds=function(){$("tr td:nth-child(2) a.tooltip_sticky").each((function(e,t){var i=$(t).attr("data-tooltip-content"),a=$(t).parent().parent().find("td:nth-child(6) a").attr("data-tooltip-content").match(/Dialog\.Buddy\(([0-9]+)\)/);a=a?parseInt(a[1]):null;var n=i.match(/([0-9]+)\:([0-9]+)\:([0-9]+)/,i),r=i.match(/doit\(6\,([0-9]+)/,i);r=r?parseInt(r[1]):null,n&&r&&postJSON("planets",{coordinates:n[0],planet_id:r,player_id:a},(function(e){}))}))},this.enhanceList=function(){const e=$("content > table tr:first-child th").html().match(/System ([0-9]+)\:([0-9]+)/),t=$($("content > table tr")[1]);t.append('<th class="text-right"><i class="fa fa-crosshairs"></i></th>'),t.append('<th class="text-right"><i class="fa fa-user-secret"></i></th>'),t.append('<th class="text-right">MET</th>'),t.append('<th class="text-right">CRY</th>'),t.append('<th class="text-right">DEU</th>'),getJSON("galaxy/"+e[1]+"/"+e[2],(function(e){if(200===e.status){const t=JSON.parse(e.responseText);let i,a;$("content > table tr").each((function(e,n){i=$($($(n).find("td")[0]).find("a")),0===i.length&&(i=$($(n).find("td")[0])),a=parseInt(i.html()),!isNaN(a)&&t[a]&&($(n).append('<td class="text-right" style="white-space: nowrap;">'+(t[a].last_battle_report||"")+"</td>"),$(n).append('<td class="text-right" style="white-space: nowrap;" id="lastSpyReport'+t[a].id+'">'+(t[a].last_spy_report||"")+"</td>"),$(n).append('<td class="text-right" style="white-space: nowrap;">'+(t[a].last_spy_metal||"")+"</td>"),$(n).append('<td class="text-right" style="white-space: nowrap;">'+(t[a].last_spy_crystal||"")+"</td>"),$(n).append('<td class="text-right" style="white-space: nowrap;">'+(t[a].last_spy_deuterium||"")+"</td>"))})),$.each(t,(function(e,t){$("#lastSpyReport"+t.id).click((function(){showSpyReportHistory(t.galaxy,t.system,t.planet)}))}))}}))}}},1497:()=>{window.PageHangar=function(){this.init=function(){this.convertHtml()},this.convertHtml=function(){$("content").addClass("hangar"),$(".infos, .infoso").each((function(e,t){$(t).addClass("hangar"),$($(t).find("div:nth-child(2)")).addClass("building-left"),$($(t).find("div:nth-child(3)")).addClass("building-right")})),$("content").html($("content").html().replace(/Maximal baubare Einheiten:(.*)\<br\>/g,"Maximal baubare Einheiten: $1")),$("content").html($("content").html().replace(/\(Stufe ([0-9]+)\)/g,'<br><span class="highlight">Stufe $1</span><br>'))}}},691:()=>{window.PageHub=function(){const e=this;this.container=$("content"),this.init=function(){},this.loadPage=function(e){switch(e){case"planets":this.clearPage(),this.loadPagePlanets();break;case"research":this.clearPage(),this.loadPageResearch();break;case"fleet":this.clearPage(),this.loadPageFleet();break;case"score":this.clearPage(),this.loadPageScore();break;case"expos":this.clearPage(),this.loadPageExpos();break;case"galaxy":this.clearPage(),this.loadPageGalaxy();break;case"hostile-spying":this.clearPage(),this.loadPageHostileSpying();break;case"changelog":this.clearPage(),this.loadPageChangelog();break;case"alliance-power":this.clearPage(),this.loadPageAlliancePower();break;default:alert("unknown page "+e)}},this.clearPage=function(){this.container.html('<i class="fa fa-spin fa-spinner"></i> Daten werden geladen.'),this.container.addClass("hub")},this.sortData=function(e,t){let i=getValue("hub_planets_orderBy")||"coordinates";const a="DESC"!==getValue("hub_planets_orderDirection")?1:-1,n=i.split(".");2===n.length&&(e=e[n[0]],t=t[n[0]],i=n[1]);let r=e[i]||"",s=t[i]||"";return"alliance_name"!==i&&"name"!==i?(r=getInt(r),s=getInt(s)):(r=r.toLowerCase(),s=s.toLowerCase()),(r<s?-1:r>s?1:0)*a},this.loadPagePlanets=function(){getJSON("hub/planets",(function(t){200!==t.status&&e.container.html('<p style="color: '+getRgb(cRed)+';">Da Wing-Member h√§ufiger die Allianz verlassen, sind Flotteninformationen etc. nur f√ºr die Main Allianz einsehbar.</p>');let i=JSON.parse(t.responseText);const a=e.sortData;i=i.sort(a);let n="";n+='<div class="infos text-left">',n+='<p style="padding-left: 10px"><i class="fa fa-info-circle"></i> <i>Halte die Maus √ºber die Buchstaben, um die Geb√§udenamen zu sehen.</i></p>',n+='<table class="table519">',n+="<tr>",n+='<th class="sortable" colspan="3" data-sort="coordinates" data-direction="ASC">Koordinaten</th>',n+='<th class="sortable" style="text-align: left;" data-sort="name" data-direction="ASC">Spieler</th>',n+='<th class="sortable" style="text-align: left;" data-sort="score_building" data-direction="DESC">Punkte</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Metallmine">M</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Kristallmine">K</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Deuteriumsynthetisierer">D</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Solarkraftwerk">S</th>',n+='<th style="text-align: right; color: '+getRgb(cPink)+'" title="Technodom">T</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Fusionskraftwerk">F</th>',n+='<th style="text-align: right; color: '+getRgb(cBlue)+'" title="Roboterfabrik">R</th>',n+='<th style="text-align: right; color: '+getRgb(cBlue)+'" title="Nanofabrik">N</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Raumschiffwerft">R</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Metallspeicher">M</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Kristallspeicher">K</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Deuteriumtank">D</th>',n+='<th style="text-align: right; color: '+getRgb(cPink)+'" title="Forschungslabor">F</th>',n+='<th style="text-align: right; color: '+getRgb(cBlue)+'" title="Terraformer">T</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Allianzdepot">A</th>',n+='<th style="text-align: right; color: '+getRgb(cYellow)+'" title="Mondbasis">M</th>',n+='<th style="text-align: right; color: '+getRgb(cYellow)+'" title="Phalanx">P</th>',n+='<th style="text-align: right; color: '+getRgb(cYellow)+'" title="Sprungtor">S</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Raketensilo">R</th>',n+="</tr>",$.each(i,(function(e,t){n+="<tr>",n+='<td style="text-align: right; width: 35px">'+t.galaxy+"</td>",n+='<td style="text-align: right; width: 35px">'+t.system+"</td>",n+='<td style="text-align: right; width: 35px">'+t.planet+"</td>",n+='<td style="text-align: left;">'+t.name+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.score_building||0)/getMaxValue(i,"score_building"),cRed)+'">'+(t.score_building||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.metal_mine||0)/getMaxValue(i,"metal_mine"),cRed)+'">'+(t.metal_mine||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.crystal_mine||0)/getMaxValue(i,"crystal_mine"),cRed)+'">'+(t.crystal_mine||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.deuterium_mine||0)/getMaxValue(i,"deuterium_mine"),cRed)+'">'+(t.deuterium_mine||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.solar_plant||0)/getMaxValue(i,"solar_plant"),cRed)+'">'+(t.solar_plant||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.techno_dome||0)/getMaxValue(i,"techno_dome"),cRed)+'">'+(t.techno_dome||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.fusion_plant||0)/getMaxValue(i,"fusion_plant"),cRed)+'">'+(t.fusion_plant||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.robot_factory||0)/getMaxValue(i,"robot_factory"),cRed)+'">'+(t.robot_factory||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.nano_factory||0)/getMaxValue(i,"nano_factory"),cRed)+'">'+(t.nano_factory||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.hangar||0)/getMaxValue(i,"hangar"),cRed)+'">'+(t.hangar||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.metal_storage||0)/getMaxValue(i,"metal_storage"),cRed)+'">'+(t.metal_storage||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.crystal_storage||0)/getMaxValue(i,"crystal_storage"),cRed)+'">'+(t.crystal_storage||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.deuterium_storage||0)/getMaxValue(i,"deuterium_storage"),cRed)+'">'+(t.deuterium_storage||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.laboratory||0)/getMaxValue(i,"laboratory"),cRed)+'">'+(t.laboratory||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.terra_former||0)/getMaxValue(i,"terra_former"),cRed)+'">'+(t.terra_former||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.alliance_depot||0)/getMaxValue(i,"alliance_depot"),cRed)+'">'+(t.alliance_depot||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.base||0)/getMaxValue(i,"base"),cRed)+'">'+(t.base||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.phalanx||0)/getMaxValue(i,"phalanx"),cRed)+'">'+(t.phalanx||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.portal||0)/getMaxValue(i,"portal"),cRed)+'">'+(t.portal||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.missile_silo||0)/getMaxValue(i,"missile_silo"),cRed)+'">'+(t.missile_silo||"")+"</td>",n+="</tr>"})),n+="</table>",n+="</div>",e.container.html(n),$("th.sortable").click((function(){$(this).attr("data-sort")&&(setValue("hub_planets_orderDirection",$(this).attr("data-direction")),setValue("hub_planets_orderBy",$(this).attr("data-sort")),e.loadPagePlanets())})),$("th.sortable").each((function(e,t){$(t).css("cursor","pointer"),$(t).attr("data-sort")==(getValue("hub_planets_orderBy")||"coordinates")&&$(t).attr("data-direction")==(getValue("hub_planets_orderDirection")||"ASC")&&($(t).prepend("ASC"===$(t).attr("data-direction")?'<i class="fa fa-caret-up"></i> ':'<i class="fa fa-caret-down"></i> '),$(t).css("white-space","nowrap"))}))}))},this.loadPageResearch=function(){getJSON("hub/research",(function(t){let i=JSON.parse(t.responseText);const a=getValue("filter_alliance_id")||"";let n="";n+='<div class="infos text-left">',n+='<select style="margin-left: 10px" id="allianceIdSelect" onchange="setValue(\'filter_alliance_id\', this.value); pageHub.loadPageResearch()">',n+='<option value="">Alle</option>',n+='<option value="12"'+("12"===a?" selected":"")+">FELIDAE FERNICHTER</option>",n+='<option value="95"'+("95"===a?" selected":"")+">FELIDAE FERNICHTER WING</option>",n+="</select>",n+='<p style="padding-left: 10px"><i class="fa fa-info-circle"></i> <i>Halte die Maus √ºber die Buchstaben, um die Technologienamen zu sehen.</i></p>',n+='<table class="table519">',n+="<tr>",n+="<td></td>",n+="<td></td>",n+='<td colspan="2"></td>',n+='<td colspan="3">Flottenwert</td>',n+='<td colspan="2">Technik</td>',n+='<td colspan="3">Triebwerk</td>',n+='<td colspan="3">Bewaffnung</td>',n+='<td colspan="2"></td>',n+='<td colspan="3">Produktion</td>',n+="<td></td>",n+="</tr>",n+="<tr>",n+='<th style="text-align: left;">Spieler</th>',n+='<th style="text-align: right;">Punkte</th>',n+='<th style="text-align: right;" title="Spionagetechnik">Spionagetechnik</th>',n+='<th style="text-align: right;" title="Computertechnik">Computertechnik</th>',n+='<th style="text-align: right;" title="Waffentechnik">Waffentechnik</th>',n+='<th style="text-align: right;" title="Schildtechnik">Schildtechnik</th>',n+='<th style="text-align: right;" title="Raumschiffpanzerung">Raumschiffpanzerung</th>',n+='<th style="text-align: right;" title="Energietechnik">Energietechnik-</th>',n+='<th style="text-align: right;" title="Hyperraumtechnik">Hyperraumtechnik</th>',n+='<th style="text-align: right;" title="Verbrennungstriebwerk">Verbrennungstriebwerk</th>',n+='<th style="text-align: right;" title="Impulstriebwerk">Impulstriebwerk</th>',n+='<th style="text-align: right;" title="Hyperraumantrieb">Hyperraumantrieb</th>',n+='<th style="text-align: right;" title="Lasertechnik">Lasertechnik</th>',n+='<th style="text-align: right;" title="Ionentechnik">Ionentechnik</th>',n+='<th style="text-align: right;" title="Plasmatechnik">Plasmatechnik</th>',n+='<th style="text-align: right;" title="Intergalaktisches Forschungsnetzwerk">Intergalaktisches Forschungsnetzwerk</th>',n+='<th style="text-align: right;" title="Astrophysik">Astrophysik</th>',n+='<th style="text-align: right;" title="Produktionsmaximierung Metall">Produktionsmaximierung Metall</th>',n+='<th style="text-align: right;" title="Produktionsmaximierung Kristall">Produktionsmaximierung Kristall</th>',n+='<th style="text-align: right;" title="Produktionsmaximierung Deuterium">Produktionsmaximierung Deuterium</th>',n+='<th style="text-align: right;" title="Gravitonforschung">Gravitonforschung</th>',n+="</tr>",$.each(i,(function(e,t){""!==a&&parseInt(a)!==t.alliance_id||(n+="<tr>",n+='<td style="text-align: left;">'+t.name+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.score_science||0)/getMaxValue(i,"score_science"),cRed)+'">'+t.score_science+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.spy_tech||0)/getMaxValue(i,"spy_tech"),cRed)+'">'+(t.spy_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.computer_tech||0)/getMaxValue(i,"computer_tech"),cRed)+'">'+(t.computer_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.military_tech||0)/getMaxValue(i,"military_tech"),cRed)+'">'+(t.military_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.defense_tech||0)/getMaxValue(i,"defense_tech"),cRed)+'">'+(t.defense_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.shield_tech||0)/getMaxValue(i,"shield_tech"),cRed)+'">'+(t.shield_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.energy_tech||0)/getMaxValue(i,"energy_tech"),cRed)+'">'+(t.energy_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.hyperspace_tech||0)/getMaxValue(i,"hyperspace_tech"),cRed)+'">'+(t.hyperspace_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.combustion_tech||0)/getMaxValue(i,"combustion_tech"),cRed)+'">'+(t.combustion_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.impulse_motor_tech||0)/getMaxValue(i,"impulse_motor_tech"),cRed)+'">'+(t.impulse_motor_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.hyperspace_motor_tech||0)/getMaxValue(i,"hyperspace_motor_tech"),cRed)+'">'+(t.hyperspace_motor_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.laser_tech||0)/getMaxValue(i,"laser_tech"),cRed)+'">'+(t.laser_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.ion_tech||0)/getMaxValue(i,"ion_tech"),cRed)+'">'+(t.ion_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.buster_tech||0)/getMaxValue(i,"buster_tech"),cRed)+'">'+(t.buster_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.intergalactic_tech||0)/getMaxValue(i,"intergalactic_tech"),cRed)+'">'+(t.intergalactic_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.expedition_tech||0)/getMaxValue(i,"expedition_tech"),cRed)+'">'+(t.expedition_tech||"")+"</td>",n+='<td style="background: rgba(255, 255, 255, 0.05) !important; text-align: right; color: '+getColorAlt(cGreen,parseInt(t.metal_proc_tech||0)/getMaxValue(i,"metal_proc_tech"),cRed)+'">'+(t.metal_proc_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.crystal_proc_tech||0)/getMaxValue(i,"crystal_proc_tech"),cRed)+'">'+(t.crystal_proc_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.deuterium_proc_tech||0)/getMaxValue(i,"deuterium_proc_tech"),cRed)+'">'+(t.deuterium_proc_tech||"")+"</td>",n+='<td style="text-align: right; color: '+getColorAlt(cGreen,parseInt(t.graviton_tech||0)/getMaxValue(i,"graviton_tech"),cRed)+'">'+(t.graviton_tech||"")+"</td>",n+="</tr>")})),n+="</table>",n+="</div>",e.container.html(n),getJSON("hub/transfer-matrix",(function(t){i=JSON.parse(t.responseText),n="",n+='<div class="infos text-left">',n+='<p style="margin-left: 10px"><b>Flotten-Transfers</b><br>Zeig an, ob der Sender (links) dem Empf√§nger (rechts) Schiffe schicken darf.</p>',n+='<table class="table519">',n+="<tr>",n+='<th class="text-left">Send. / Empf.</th>',$.each(i,(function(e,t){""!==a&&parseInt(a)!==t.alliance_id||(n+='<th class="text-center" style="width: 75px"><div style="width: 75px; overflow: hidden; text-overflow: ellipsis">'+t.name+"</div></th>")})),n+="</tr>",$.each(i,(function(e,t){""!==a&&parseInt(a)!==t.alliance_id||(n+="<tr>",n+='<td style="text-align: left;">'+t.name+"</td>",$.each(i,(function(e,i){""!==a&&parseInt(a)!==i.alliance_id||(null===t.transfer_possible[i.id]?n+='<td class="text-center" style="color: '+getRgb(cGray)+'">---</td>':n+='<td class="text-center text-'+(t.transfer_possible[i.id]?"green":"red")+'">'+(t.transfer_possible[i.id]?"Ja":"Nein")+"</td>")})),n+="</tr>")})),n+="</table>",n+="</div>",e.container.append(n)}))}))},this.loadPageFleet=function(){getJSON("hub/fleet",(function(t){const i=JSON.parse(t.responseText);let a,n="";n+='<div class="infos text-left">',n+='<p style="padding-left: 10px"><i class="fa fa-info-circle"></i> <i>Halte die Maus √ºber die Buchstaben, um die Schiffsnamen zu sehen.</i></p>',n+='<table class="borderless">',n+="<tr>",n+='<th style="text-align: left;">Spieler</th>',n+='<th style="text-align: right">Punkte</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Kleiner Transporter">KT</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Gro√üer Transporter">GT</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Kolonieschiff">KS</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Recycler">Rec</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Spionagesonden">Spy</th>',n+='<th style="text-align: right; color: '+getRgb(cGreen)+'" title="Solar Satellit">Sat</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Leichter J√§ger">LJ</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Schwerer J√§ger">SJ</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Kreuzer">Xer</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Schlachtschiff">SS</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Bomber">B</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Zerst√∂rer">Z</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Todesstern">DS</th>',n+='<th style="text-align: right; color: '+getRgb(cRed)+'" title="Schlachtkreuzer">SXer</th>',n+="</tr>",$.each(i,(function(e,t){a="Gesamt"===t.name?"font-weight: bold; padding-top: 5px; border-top: 1px solid "+getRgb(cRed)+"; color: "+getRgb(cRed):"",n+="<tr>",n+='<td style="text-align: left; '+a+'">'+t.name+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.score_military||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.small_transporters||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.large_transporters||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.coloy_ships||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.recyclers||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.spy_drones||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.solar_satellites||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.light_hunters||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.heavy_hunters||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.cruisers||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.battleships||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.bombers||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.destroyers||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.death_stars||"")+"</td>",n+='<td style="text-align: right; '+a+'">'+(t.battle_cruisers||"")+"</td>",n+="</tr>"})),n+="</table>",n+="</div>",e.container.html(n)}))},this.loadPageScore=function(){$("head").append('<script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>'),getJSON("hub/scores",(function(t){t=JSON.parse(t.responseText),e.container.html('<div class="infos text-left"><p style="padding-left: 10px"><i class="fa fa-info-circle"></i> <i>Relative Punkte√§nderung in % pro Kalenderwoche</i></p><canvas id="scoreChart" style="height: 500px; width: 100%"></canvas></div>');const i=t.dates;let a=[],n=["#bce4d8","#aedcd5","#a1d5d2","#95cecf","#89c8cc","#7ec1ca","#72bac6","#66b2c2","#59acbe","#4ba5ba","#419eb6","#3b96b2","#358ead","#3586a7","#347ea1","#32779b","#316f96","#2f6790","#2d608a","#2c5985"];for(let e=0;e<t.data.length;e++)a.push({label:t.data[e].name,data:t.data[e].score_relative,backgroundColor:t.data[e].me?"#ee4d2e":n[e%n.length],radius:1});new Chart(document.getElementById("scoreChart"),{type:"bar",data:{labels:i,datasets:a}}),e.container.append('<div class="infos text-left"><p style="padding-left: 10px"><i class="fa fa-info-circle"></i> <i>Absolute Punkte√§nderung pro Kalenderwoche</i></p><canvas id="scoreChart2" style="height: 500px; width: 100%"></canvas></div>'),a=[];for(let e=0;e<t.data.length;e++)a.push({label:t.data[e].name,data:t.data[e].score_diff,backgroundColor:t.data[e].me?"#ee4d2e":n[e%n.length],radius:1});new Chart(document.getElementById("scoreChart2"),{type:"bar",data:{labels:i,datasets:a}})}))},this.loadPageExpos=function(){let t="";getJSON("flights/stats",(function(i){i=JSON.parse(i.responseText),t='<div class="infos text-left">',t+='<table class="borderless" cellspacing="0">',t+="<tr>",t+='<tr><th colspan="7"><b>Eigene Statistik (gesamte Zeit)</b></th></tr>',t+='<th style="white-space: nowrap">Planet</th>',t+='<th style="white-space: nowrap" class="text-right">Letzte 24 Std</th>',t+='<th style="white-space: nowrap" class="text-right">Metall</th>',t+='<th style="white-space: nowrap" class="text-right">Kristall</th>',t+='<th style="white-space: nowrap" class="text-right">Deuterium</th>',t+='<th style="white-space: nowrap" class="text-right">Punkte</th>',t+="</tr>",$.each(i.own_stats,(function(e,i){t+="<tr>",t+='<td style="white-space: nowrap" class="text-left">'+e+"</td>",t+='<td style="white-space: nowrap" class="text-right">'+i.count_24+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.metal_diff)+'">'+i.metal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.crystal_diff)+'">'+i.crystal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.deuterium_diff)+'">'+i.deuterium_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.score_diff)+'">'+i.score_diff+"</td>",t+="</tr>"})),t+="</table>",t+='<small class="text-left" style="display: block; color: '+getRgb(cRed)+'; padding-top: 10px; margin-top: 10px; border-top: 1px solid #222">Flottenbewegungen werden nur erfasst, wenn sowohl w√§hrend Hin- als auch R√ºckflug die √úbersicht mit diesem Plugin ge√∂ffnet wurde. Metall/Kristall/Deuterium/Punkte berechnen den Ressourcengewinn, sowie Schiffsgewinn und -verlust (Produktionskosten) mit ein. Komplettverluste (depleted/black hole) sowie Expo-Abbr√ºche werden <u>NICHT</u> erfasst.</small>',t+="</div>",t+='<div class="infos text-left">',t+='<table class="borderless" cellspacing="0">',t+="<tr>",t+='<tr><th colspan="7"><b>Expos (letzte 24 Std)</b></th></tr>',t+='<th style="white-space: nowrap">Planet</th>',t+='<th style="white-space: nowrap" class="text-right">Letzte 24 Std</th>',t+='<th style="white-space: nowrap" class="text-right">Metall</th>',t+='<th style="white-space: nowrap" class="text-right">Kristall</th>',t+='<th style="white-space: nowrap" class="text-right">Deuterium</th>',t+='<th style="white-space: nowrap" class="text-right">Punkte</th>',t+="</tr>",$.each(i.stats_per_player,(function(e,i){t+="<tr>",t+='<td style="white-space: nowrap" class="text-left">'+i.name+"</td>",t+='<td style="white-space: nowrap" class="text-right">'+i.expeditions.count+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.expeditions.metal_diff)+'">'+i.expeditions.metal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.expeditions.crystal_diff)+'">'+i.expeditions.crystal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.expeditions.deuterium_diff)+'">'+i.expeditions.deuterium_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.expeditions.score_diff)+'">'+i.expeditions.score_diff+"</td>",t+="</tr>"})),t+="</table>",t+="</div>",t+='<div class="infos text-left">',t+='<table class="borderless" cellspacing="0">',t+="<tr>",t+='<tr><th colspan="7"><b>Raids (letzte 24 Std)</b></th></tr>',t+='<th style="white-space: nowrap">Planet</th>',t+='<th style="white-space: nowrap" class="text-right">Gesamt</th>',t+='<th style="white-space: nowrap" class="text-right">Metall</th>',t+='<th style="white-space: nowrap" class="text-right">Kristall</th>',t+='<th style="white-space: nowrap" class="text-right">Deuterium</th>',t+='<th style="white-space: nowrap" class="text-right">Punkte</th>',t+="</tr>",$.each(i.stats_per_player,(function(e,i){t+="<tr>",t+='<td style="white-space: nowrap" class="text-left">'+i.name+"</td>",t+='<td style="white-space: nowrap" class="text-right">'+i.raids.count+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.raids.metal_diff)+'">'+i.raids.metal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.raids.crystal_diff)+'">'+i.raids.crystal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.raids.deuterium_diff)+'">'+i.raids.deuterium_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.raids.score_diff)+'">'+i.raids.score_diff+"</td>",t+="</tr>"})),t+="</table>",t+="</div>",e.container.html(t)}))},this.loadPageGalaxy=function(){let t="";getJSON("hub/galaxy",(function(i){i=JSON.parse(i.responseText),t='<div class="infos text-left">',t+='<table class="borderless" cellspacing="0">',t+="<tr>",t+='<th style="white-space: nowrap; width: 10%">Galaxie</th>',t+='<th style="white-space: nowrap" class="text-right">Systeme 1-400</th>',t+="</tr>",$.each(i,(function(e,i){t+="<tr>",t+='<td style="white-space: nowrap" class="text-left">Galaxie '+e+"</td>",t+='<td style="white-space: nowrap" class="text-left">',t+='<div style="display: flex; width: 100%; justify-content: stretch">',$.each(i,(function(e,i){t+='<div title="System '+e+": "+(i.last_viewed_at||"---")+'" style="height: 25px; background: '+getColorAlt([92,184,92],i.intensity,[238,77,46])+'; min-width: 1px; flex-grow: 1"></div>'})),t+="</div>",t+="</td>",t+="</tr>"})),t+="</table>",t+='<small class="text-left" style="display: block; color: '+getRgb(cWhite)+'; padding-top: 10px; margin-top: 10px; border-top: 1px solid #222">F√ºr jedes System wird ein schmaler Balken abgebildet. Die Farbe ist gr√ºn, sofern das System erst k√ºrzlich angeschaut wurde und rot, wenn die letzte √úberpr√ºfung 7 Tage oder l√§nger her ist. Das dargestellte System sowie Zeitpunkt der letzten Aktualisierung sind per Mouseover sichtbar.</small>',t+="</div>",e.container.html(t)}))},this.loadPageHostileSpying=function(t=1){let i="";getJSON("hostile-spying?page="+t,(function(t){t=JSON.parse(t.responseText),i+='<div class="infos text-left">',i+='<div class="text-center">';for(let e=1;e<=t.last_page;e++)i+='<a style="margin-right: 1px; background: #444; border-radius: 1px; padding: 4px; color: '+getRgb(e===t.current_page?cRed:cWhite)+'" href="javascript:void(0)" onclick="pageHub.loadPageHostileSpying('+e+')">'+e+"</a>";i+='</div><br><table class="borderless">',i+="<tr>",i+='<th class="text-left">Allianz</th>',i+='<th class="text-left">Spion</th>',i+='<th class="text-left">Koords</th>',i+='<th class="text-left">Ziel</th>',i+='<th class="text-left">Ziel Koords</th>',i+='<th class="text-left">Zeitpunkt</th>',i+="</tr>",$.each(t.data,(function(e,t){i+="<tr>",i+='<td class="text-left">'+(t.attacker_alliance||"---")+"</td>",i+='<td class="text-left">'+(t.attacker_name||"---")+"</td>",i+='<td class="text-left">'+t.planet_start_coordinates+"</td>",i+='<td class="text-left">'+t.target_name+"</td>",i+='<td class="text-left">'+t.planet_target_coordinates+"</td>",i+='<td class="text-left">'+t.timestamp+"</td>",i+="</tr>"})),i+="</table>",i+="</div>",e.container.html(i)}))},this.loadPageAlliancePower=function(){let t="";getJSON("hub/galaxy-alliances",(function(i){i=JSON.parse(i.responseText),t+='<div class="infos text-left">',t+='<table class="galaxy-power" cellspacing="0" cellpadding="0">',$.each(i,(function(e,i){t+='<tr><th colspan="400" style="padding-top: 10px !important; padding-left: 0 !important;">Galaxie '+e+"</th></tr>",t+="<tr>";for(let e=1;e<=40;e++)t+='<th width="10" style="font-size: 8px; width: 10px; padding: 0 !important;" colspan="10">'+(10*e-9)+"</th>";t+="</tr>",$.each(i,(function(e,i){t+="<tr>",$.each(i,(function(i,a){t+='<td class="galaxy-power" width="1" style="background: transparent; font-size: 10px; padding: 0;" title="'+i+":"+e+": "+(a.name||"---")+" ("+(a.alliance||"---")+')"><div style="box-shadow: 0 0 '+Math.round(a.power/250)+"px "+Math.round(a.power/1250)+"px "+(a.color||"#ffffff")+"; background-color: "+(a.color||"rgba(255, 255, 255, 0.1)")+'"></div></td>'})),t+="</tr>"}))})),t+="</table>",t+="</div>",$("head").append("<style>table.galaxy-powerx {border-collapse: collapse !important;} td.galaxy-power {outline: none !important; border: none !important; padding: 0 !important;}.galaxy-power > div {width: 7px !important; height: 7px !important;}</style>"),e.container.html(t)}))},this.loadPageChangelog=function(){let t="";t+='<div class="infos text-left">',t+='<table class="borderless">',t+="<tr>",t+='<th class="text-right" style="widtH: 75px">Version</th>',t+='<th class="text-left" style="width: 150px">DateTime</th>',t+='<th class="text-left">Changes</th>',t+="</tr>",$.each(changelog,(function(e,i){t+="<tr>",t+='<td class="text-right" style="white-space: nowrap; color: '+getRgb(version===i.version?cGreen:cWhite)+'">'+i.version+"</td>",t+='<td class="text-left" style="white-space: nowrap; color: '+getRgb(version===i.version?cGreen:cWhite)+'">'+i.date_time+"</td>",t+='<td class="text-left" style="color: '+getRgb(version===i.version?cGreen:cWhite)+'">'+i.changes+"</td>",t+="</tr>"})),t+="</table>",t+='<p class="text-center text-green" style="padding-top: 10px">coded with <i class="fa fa-heart text-red"></i> by eichhorn/esKju</p>',t+="</div>",e.container.html(t)}}},2419:()=>{window.PageMessages=function(){const e=$($("#messagestable > tbody > tr").get().reverse());let t,i,a,n,r,s,l,o,d,c,h,g,p,u,f;this.colors=new top.Colors;const m=this;this.init=function(){e.each((function(e,t){$(t).find(".spyRaport").length>0?m.parseSpyReport(e,t):$(t).hasClass("message_head")&&-1!==$($(t).find("td")[3]).html().search(/Spionage\-Aktivit√§t/)?m.parseEnemySpying(e,t):$(t).find(".raportMessage").length>0?m.parseBattleReport(e,t):$(t).hasClass("message_head")&&-1!==$($(t).find("td")[3]).html().search(/Expeditionsbericht/)&&m.parseExpedition(e,t)}))},this.parseSpyReport=function(t,i){a=$(e[t-1]).find("td:nth-child(2)").html(),s=$(i).find(".spyRaportHead a").html(),l=s.match(/Spionagebericht von (.*) \[([0-9]+)\:([0-9]+)\:([0-9]+)\] am (.*)/,s),o=l[2],d=l[3],c=l[4],h=l[5],g=o+":"+d+":"+c,p=$(i).find(".spyRaportContainerRow .spyRaportContainerCell:nth-child(2n+1)"),u=$(i).find(".spyRaportContainerRow .spyRaportContainerCell:nth-child(2n)"),f={},p.each((function(e,t){f[($(t).find("a").attr("onclick")||"").match(/\(([0-9]+)\)/)[1]]=getInt($(u[e]).html())})),postJSON("spy-reports",{id:parseInt($(i).attr("class").match(/message\_([0-9]+)/)[1]),galaxy:parseInt(l[2]),system:parseInt(l[3]),planet:parseInt(l[4]),timestamp:l[5],resources:f},(function(e){}))},this.parseBattleReport=function(t,i){var a=$(i).html(),n=getCoordinates($(i).find(".raportMessage").html());postJSON("battle-reports",{report_id:a.match(/(raport|report)\=([^"]{32})/)[2],galaxy:parseInt(n[1]),system:parseInt(n[2]),planet:parseInt(n[3]),attacker_lost:getInt(a.match(/Angreifer\: ([\.0-9]+)\</)[1]),defender_lost:getInt(a.match(/Verteidiger\: ([\.0-9]+)\</)[1]),metal:getInt(a.match(/(reportSteal|raportSteal) element901\"\>([\.0-9]+)\</)[2]),crystal:getInt(a.match(/(reportSteal|raportSteal) element902\"\>([\.0-9]+)\</)[2]),deuterium:getInt(a.match(/(reportSteal|raportSteal) element903\"\>([\.0-9]+)\</)[2]),debris_metal:getInt(a.match(/(reportDebris|raportDebris) element901\"\>([\.0-9]+)\</)[2]),debris_crystal:getInt(a.match(/(reportDebris|raportDebris) element902\"\>([\.0-9]+)\</)[2]),timestamp:$(e[t+1]).find("td:nth-child(2)").html()},(function(e){}))},this.parseEnemySpying=function(t,n){i=$(n).attr("id").replace(/message\_/,""),a=$(n).hasClass("message_head")&&$($(n).find("td")[1]).html();const r=$($(e[t-1]).find("td")).html().match(/([0-9]+)\:([0-9]+)\:([0-9]+)/g);postJSON("hostile-spying",{external_id:i,date_time:a,planet_start_coordinates:r[0],planet_target_coordinates:r[1]},(function(){}))},this.parseExpedition=function(s,l){i=$(l).attr("id").replace(/message\_/,""),a=$(l).hasClass("message_head")&&$($(l).find("td")[1]).html(),$($(e[s-1]).find("td")).html($($(e[s-1]).find("td")).html().replace(/Logbuch Nachtrag des Kommunikationsoffiziers: Dieser Bereich des Universums ist wohl noch nicht erkundet worden./,'<span style="color: '+m.colors.green()+'"><i class="fa fa-check"></i></span> Logbuch Nachtrag des Kommunikationsoffiziers: Dieser Bereich des Universums ist wohl noch nicht erkundet worden.')),$($(e[s-1]).find("td")).html($($(e[s-1]).find("td")).html().replace(/Logbuch Nachtrag des Kommunikationsoffiziers: Es ist ein erhebendes Gef√ºhl, der Erste in einem unerforschten Sektor zu sein./,'<span style="color: '+m.colors.green()+'"><i class="fa fa-check"></i></span> Logbuch Nachtrag des Kommunikationsoffiziers: Es ist ein erhebendes Gef√ºhl, der Erste in einem unerforschten Sektor zu sein.')),$($(e[s-1]).find("td")).html($($(e[s-1]).find("td")).html().replace(/Logbuch Nachtrag des Kommunikationsoffiziers: Es scheint nicht so, als ob jemals ein Mensch in diesem Bereich der Galaxis gewesen w√§re./,'<span style="color: '+m.colors.red()+'"><i class="fa fa-exclamation-triangle"></i> 25%</span> Logbuch Nachtrag des Kommunikationsoffiziers: Es scheint nicht so, als ob jemals ein Mensch in diesem Bereich der Galaxis gewesen w√§re.')),$($(e[s-1]).find("td")).html($($(e[s-1]).find("td")).html().replace(/Logbuch Nachtrag des Kommunikationsoffiziers: Es wurden Anzeichen f√ºr die Pr√§senz anderer Expeditionsflotten gefunden./,'<span style="color: '+m.colors.red()+'"><i class="fa fa-exclamation-triangle"></i> 50%</span> Logbuch Nachtrag des Kommunikationsoffiziers: Es wurden Anzeichen f√ºr die Pr√§senz anderer Expeditionsflotten gefunden.')),$($(e[s-1]).find("td")).html($($(e[s-1]).find("td")).html().replace(/Logbuch Nachtrag des Kommunikationsoffiziers: Wenn wir uns zu unsicher f√ºhlen, k√∂nnen wir uns ja mit all den anderen Expeditionen, die hier herum fliegen, zusammen tun./,'<span style="color: '+m.colors.red()+'"><i class="fa fa-exclamation-triangle"></i> 75%</span> Logbuch Nachtrag des Kommunikationsoffiziers: Wenn wir uns zu unsicher f√ºhlen, k√∂nnen wir uns ja mit all den anderen Expeditionen, die hier herum fliegen, zusammen tun.')),t=$($(e[s-1]).find("td")).html(),n="UNKNOWN",r=null,(t.match(/Deine Expedition hat einen kleinen Asteroidenschwarm entdeckt, aus dem einige Ressourcen gewonnen werden k√∂nnen./)||t.match(/Auf einem abgelegenen Planetoiden wurden einige leicht zug√§ngliche Ressourcenfelder gefunden und erfolgreich Rohstoffe gewonnen./)||t.match(/Deine Expedition stie√ü auf sehr alte Raumschiffwracks einer l√§ngst vergangenen Schlacht. Einzelne Komponenten konnte man bergen und recyceln./)||t.match(/Die Expedition stie√ü auf einen radioaktiv verstrahlten Planetoiden mit hochgiftiger Atmosph√§re. Jedoch ergaben Scans, dass dieser Planetoid sehr rohstoffhaltig ist. Mittels automatischer Drohnen wurde versucht, ein Maximum an Rohstoffen zu gewinnen./))&&($($(l).find("td")[3]).html('<span class="badge badge-ress">Ress (klein)</span>'),n="RESOURCE",r="SMALL"),(t.match(/Deine Expedition fand einen uralten, voll beladenen, aber menschenleeren Frachterkonvoi. Einige Ressourcen konnten geborgen werden./)||t.match(/Auf einem kleinen Mond mit eigener Atmosph√§re fand deine Expedition gro√üe Rohstoffvorkommen. Die Bodencrews sind dabei diese nat√ºrlichen Sch√§tze zu heben./)||t.match(/Wir haben einen kleinen Konvoi ziviler Schiffe getroffen, die dringend Nahrung und Medikamente ben√∂tigten. Im Austausch daf√ºr erhielten wir eine ganze Menge n√ºtzlicher Ressourcen./))&&($($(l).find("td")[3]).html('<span class="badge badge-ress">ress (mittel)</span>'),n="RESOURCE",r="MEDIUM"),(t.match(/Deine Expeditionsflotte meldet den Fund eines riesigen Alien-Schiffswracks. Mit der Technologie konnten sie zwar nichts anfangen, aber das Schiff lie√ü sich in seine Einzelteile zerlegen und dadurch konnte man wertvolle Rohstoffe gewinnen./)||t.match(/Ein Mineralieng√ºrtel um einen unbekannten Planeten enthielt Unmengen an Rohstoffen. Die Expeditionsflotte meldet volle Lager!/))&&($($(l).find("td")[3]).html('<span class="badge badge-ress">ress (gro√ü)</span>'),n="RESOURCE",r="LARGE"),(t.match(/Wir sind auf die √úberreste einer Vorg√§ngerexpedition gesto√üen! Unsere Techniker schauen, ob sie einige der Wracks wieder Flugf√§hig bekommen/)||t.match(/Wir haben eine verlassene Piratenbasis gefunden. Im Hangar liegen noch einige alte Schiffe. Unsere Techniker schauen nach, ob einige davon noch zu gebrauchen sind./)||t.match(/Unsere Expedition fand einen Planeten, der wohl durch anhaltende Kriege fast komplett zerst√∂rt wurde. In der Umlaufbahn trieben diverse Schiffswracks. Die Techniker versuchen, einige davon zu reparieren. Vielleicht erhalten wir so auch Information dar√ºber, was hier geschehen ist./)||t.match(/Deine Expedition ist auf eine alte Sternenfestung gesto√üen, die wohl seit Ewigkeiten verlassen ist. Im Hangar der Festung wurden ein paar Schiffe gefunden. Die Techniker schauen, ob sie einige davon wieder flott bekommen./))&&($($(l).find("td")[3]).html('<span class="badge badge-ships">Schiffe (klein)</span>'),$($(e[s-1]).find("td")).html(t.replace(/([ a-zA-Z√º√∂√§√ú√ñ√Ñ√ü]+)\: ([.0-9]+)/g,'<span style="color: '+m.colors.red()+';">$1: $2</span>')),n="FLEET",r="SMALL"),(t.match(/Wir haben die Reste einer Armada gefunden. Die Techniker der Expeditionsflotte haben sich sofort auf die halbwegs intakten Schiffe begeben und versuchen, diese wieder instandzusetzen./)||t.match(/Unsere Expedition stie√ü auf eine alte, automatische Schiffswerft. Einige Schiffe sind noch in der Produktionsphase, und unsere Techniker versuchen, die Energieversorgung der Werft wiederherzustellen./))&&($($(l).find("td")[3]).html('<span class="badge badge-ships">Schiffe (mittel)</span>'),$($(e[s-1]).find("td")).html(t.replace(/([ a-zA-Z√º√∂√§√ú√ñ√Ñ√ü]+)\: ([.0-9]+)/g,'<span style="color: '+m.colors.red()+';">$1: $2</span>')),n="FLEET",r="MEDIUM"),(t.match(/Wir haben einen riesigen Raumschiffsfriedhof gefunden. Einigen Technikern der Expeditionsflotte ist es gelungen, das eine oder andere Schiff wieder in Betrieb zu nehmen./)||t.match(/Wir haben einen Planeten mit Resten einer Zivilisation entdeckt. Aus dem Orbit ist noch ein riesiger Raumbahnhof zu erkennen, der als einziges Geb√§ude noch intakt ist. Einige unserer Techniker und Piloten haben sich auf die Oberfl√§che begeben um nachzuschauen, ob ein paar der dort abgestellten Schiffe noch zu gebrauchen sind./))&&($($(l).find("td")[3]).html('<span class="badge badge-ships">Schiffe (gro√ü)</span>'),$($(e[s-1]).find("td")).html(t.replace(/([ a-zA-Z√º√∂√§√ú√ñ√Ñ√ü]+)\: ([.0-9]+)/g,'<span style="color: '+m.colors.red()+';">$1: $2</span>')),n="FLEET",r="LARGE"),(t.match(/Au√üer einiger kurioser, kleiner Tierchen von einem unbekannten Sumpfplaneten, bringt diese Expedition nichts Aufregendes von ihrer Reise mit./)||t.match(/Deine Expedition hat wundersch√∂ne Bilder einer Supernova gemacht. Wirklich neue Erkenntnisse hat diese Expedition jedoch nicht gebracht. Aber man hat gute Chancen auf den Bestes-Bild-Des-Universums-Wettbewerb in diesem Jahr./)||t.match(/Ein seltsames Computervirus legte kurz nach Verlassen des Sonnensystems die Navigation lahm. Dies f√ºhrte dazu, dass die gesamte Expeditionsflotte die ganze Zeit im Kreis flog. √úberfl√ºssig zu sagen, dass die Expedition nicht besonders erfolgreich war./)||t.match(/Eine Lebensform aus reiner Energie hat daf√ºr gesorgt, dass s√§mtliche Expeditionsmitglieder tagelang auf die hypnotischen Muster auf den Bildschirmen starrten. Als endlich die Meisten wieder klar im Kopf geworden waren, musste die Expedition aufgrund von akutem Deuterium-Mangel allerdings abgebrochen werden./)||t.match(/Nun, zumindest wei√ü man jetzt, dass rote Anomalien der Klasse 5 nicht nur chaotische Auswirkungen auf die Schiffssysteme haben, sondern auch massive Halluzinationen bei der Crew ausl√∂sen k√∂nnen. Viel mehr hat diese Expedition aber nicht gebracht./)||t.match(/Trotz der ersten, vielversprechenden Scans dieses Sektors kommen wir leider mit leeren H√§nden zur√ºck./)||t.match(/Vielleicht h√§tte man den Geburtstag des Captains nicht auf diesem abgelegenen Planeten feiern sollen. Ein fieses Dschungelfieber hat gro√üe Teile der Crew gezwungen die Expedition in der Krankenstation zu begleiten. Der akute Personalausfall f√ºhrte dazu, dass die Expedition scheiterte./)||t.match(/Deine Expedition hat, wortw√∂rtlich, mit der Leere des Alls Bekanntschaft gemacht. Es gab nicht einmal einen kleinen Asteroiden, oder Strahlung, oder Partikel, oder irgendetwas, dass diese Expedition aufregend gestaltet h√§tte/)||t.match(/Ein Reaktorfehler des F√ºhrungsschiffes h√§tte beinahe die gesamte Expedition vernichtet. Zum Gl√ºck waren die Techniker mehr als f√§hig und konnten das Schlimmste verhindern. Die Reparatur nahm jedoch soviel Zeit in Anspruch, dass die Expedition unverrichteter Dinge wieder zur√ºckkehrte./)||t.match(/Es konnten keine Schiffe repariert werden./))&&($($(l).find("td")[3]).html('<span class="badge badge-nothing">nichts</span>'),n="NOTHING",r=null),(t.match(/Eine unvorhergesehene R√ºckkopplung in den Energiespulen der Antriebsaggregate beschleunigte den R√ºcksprung der Expedition, so dass sie nun fr√ºher als erwartet zur√ºckkehrt. Ersten Meldungen zufolge hat sie jedoch nichts Spannendes zu berichten./)||t.match(/Der etwas wagemutige neue Kommandant nutzte ein instabiles Wurmloch, um den R√ºckflug zu verk√ºrzen ‚Äì mit Erfolg! Jedoch hat die Expedition selbst keine neuen Erkenntnisse gebracht./)||t.match(/Deine Expedition meldet keinen Besonderheiten in dem erforschten Sektor. Jedoch geriet die Flotte beim R√ºcksprung in einen Sonnenwind. Dadurch wurde der Sprung ziemlich beschleunigt. Deine Expedition kehrt nun etwas fr√ºher nach Hause./))&&($($(l).find("td")[3]).html('<span class="badge badge-nothing">nichts (schnell)</span>'),n="NOTHING_FAST",r=null),(t.match(/Ein b√∂ser Patzer des Navigators f√ºhrte zu einer Fehlkalkulation beim Sprung der Expedition. Nicht nur landete die Flotte an einem v√∂llig falschen Ort, auch der R√ºckweg nahm nun erheblich mehr Zeit in Anspruch./)||t.match(/Aus bisher unbekannten Gr√ºnden, ging der Sprung der Expeditionsflotte v√∂llig daneben. Beinahe w√§re man im Herzen einer Sonne herausgekommen. Zum Gl√ºck ist man in einem bekannten System gelandet, jedoch wird der R√ºcksprung l√§nger dauern als urspr√ºnglich gedacht./)||t.match(/Das neue Navigationsmodul hat wohl doch noch mit einigen Bugs zu k√§mpfen. Nicht nur ging der Sprung der Expeditionsflotte in die v√∂llig falsche Richtung, auch wurde das gesamte Deuterium verbraucht, wobei der Sprung der Flotte nur knapp hinter dem Mond des Startplaneten endete. Etwas entt√§uscht kehrt die Expedition nun auf Impuls zur√ºck. Dadurch wird die R√ºckkehr wohl ein wenig verz√∂gert./)||t.match(/Deine Expedition geriet in einen Sektor mit verst√§rkten Partikelst√ºrmen. Dadurch √ºberluden sich die Energiespeicher der Flotte und bei s√§mtlichen Schiffen fielen die Hauptsysteme aus. Deine Mechaniker konnten das Schlimmste verhindern, jedoch wird die Expedition nun mit einiger Versp√§tung zur√ºckkehren./)||t.match(/Das F√ºhrungsschiff deiner Expeditionsflotte kollidierte mit einem fremden Schiff, das ohne Vorwarnung direkt in die Flotte sprang. Das fremde Schiff explodierte und die Sch√§den am F√ºhrungsschiff waren beachtlich. Sobald die gr√∂bsten Reparaturen abgeschlossen sind, werden sich deine Schiffe auf den R√ºckweg machen, da in diesem Zustand die Expedition nicht fortgef√ºhrt werden kann./)||t.match(/Der Sternwind eines roten Riesen verf√§lschte den Sprung der Expedition derma√üen, dass es einige Zeit dauerte, den R√ºcksprung zu berechnen. Davon abgesehen gab es in dem Sektor, in dem die Expedition herauskam, nichts au√üer der Leere zwischen den Sternen./))&&($($(l).find("td")[3]).html('<span class="badge badge-nothing">nichts (langsam)</span>'),n="NOTHING_SLOW",r=null),(t.match(/Ein paar anscheinend sehr verzweifelte Weltraumpiraten haben versucht, unsere Expeditionsflotte zu kapern./)||t.match(/Einige primitive Barbaren greifen uns mit Raumschiffen an, die nicht einmal ansatzweise die Bezeichnung Raumschiff verdient haben. Sollte der Beschuss ernst zu nehmende Ausma√üe annehmen, sehen wir uns gezwungen das Feuer zu erwidern./)||t.match(/Wir haben ein paar Funkspr√ºche sehr betrunkener Piraten aufgefangen. Anscheinend sollen wir √ºberfallen werden./)||t.match(/Wir mussten uns gegen einige Piraten wehren, die zum Gl√ºck nicht allzu zahlreich waren./)||t.match(/Unsere Expeditionsflotte meldet, dass ein gewisser Moa Tikarr und seine wilde Meute die bedingungslose Kapitulation unserer Flotte verlangen. Sollten sie Ernst machen, werden sie feststellen m√ºssen, dass sich unsere Schiffe durchaus zu wehren wissen./))&&($($(l).find("td")[3]).html('<span class="badge badge-fight">Piraten (klein)</span>'),n="PIRATES",r="SMALL"),(t.match(/Deine Expeditionsflotte hatte ein unsch√∂nes Zusammentreffen mit einigen Weltraumpiraten./)||t.match(/Wir sind in den Hinterhalt einiger Sternen-Freibeuter geraten! Ein Kampf war leider unvermeidlich./)||t.match(/Der Hilferuf, dem die Expedition folgte, stellte sich als b√∂se Falle einiger arglistiger Sternen-Freibeuter heraus. Ein Gefecht war unvermeidlich./))&&($($(l).find("td")[3]).html('<span class="badge badge-fight">Piraten (mittel)</span>'),n="PIRATES",r="MEDIUM"),(t.match(/Die aufgefangenen Signale stammten nicht von Fremdwesen, sondern von einer geheimen Piratenbasis! Die Piraten waren von unserer Anwesenheit in ihrem Sektor nicht besonders begeistert./)||t.match(/Die Expeditionsflotte meldet schwere K√§mpfe mit nicht-identifizierten Piratenschiffen!/)||t.match(/Wir haben gerade eine dringende Nachricht vom Expeditionskommandanten erhalten: "Sie kommen auf uns zu! Sie sind aus dem Hyperraum gesprungen, zum Gl√ºck sind es nur Piraten, wir haben also eine Chance, wir werden k√§mpfen!"/))&&($($(l).find("td")[3]).html('<span class="badge badge-fight">Piraten (gro√ü)</span>'),n="PIRATES",r="LARGE"),(t.match(/Deine Expeditionsflotte hatte einen nicht besonders freundlichen Erstkontakt mit einer unbekannten Spezies./)||t.match(/Einige fremdartig anmutende Schiffe haben ohne Vorwarnung die Expeditionsflotte angegriffen!/)||t.match(/Unsere Expedition wurde von einer kleinen Gruppe unbekannter Schiffe angegriffen!/)||t.match(/Die Expeditionsflotte meldet Kontakt mit unbekannten Schiffen. Die Funkspr√ºche sind nicht entschl√ºsselbar, jedoch scheinen die fremden Schiffe ihre Waffen zu aktivieren./))&&($($(l).find("td")[3]).html('<span class="badge badge-fight">Aliens (klein)</span>'),n="ALIENS",r="SMALL"),(t.match(/Eine unbekannte Spezies greift unsere Expedition an!/)||t.match(/Deine Expeditionsflotte hat anscheinend das Hoheitsgebiet einer bisher unbekannten, aber √§u√üerst aggressiven und kriegerischen Alienrasse verletzt./)||t.match(/Die Verbindung zu unserer Expeditionsflotte wurde kurzfristig gest√∂rt. Soweit wir die letzte Botschaft richtig entschl√ºsselt haben, steht die Flotte unter schwerem Feuer ‚Äì die Aggressoren konnten nicht identifiziert werden./))&&($($(l).find("td")[3]).html('<span class="badge badge-fight">Aliens (mittel)</span>'),n="ALIENS",r="MEDIUM"),(t.match(/Deine Expedition ist in eine Alien-Invasions-Flotte geraten und meldet schwere Gefechte!/)||t.match(/Ein gro√üer Verband kristalliner Schiffe unbekannter Herkunft h√§lt direkten Kollisionskurs mit unserer Expeditionsflotte. Wir m√ºssen nun wohl vom Schlimmsten ausgehen./)||t.match(/Wir hatten ein wenig Schwierigkeiten, den Dialekt der fremden Rasse richtig auszusprechen. Unser Diplomat nannte versehentlich "Feuer!" statt "Frieden!"./))&&($($(l).find("td")[3]).html('<span class="badge badge-fight">Aliens (gro√ü)</span>'),n="ALIENS",r="LARGE"),(t.match(/Von der Expedition ist nur noch folgender Funkspruch √ºbrig geblieben: Zzzrrt Oh Gott! Krrrzzzzt das zrrrtrzt sieht krgzzzz ja aus wie Krzzzzzzzztzzzz.../)||t.match(/Das Letzte, was von dieser Expedition noch gesendet wurde, waren einige unglaublich gut gelungene Nahaufnahmen eines sich √∂ffnenden, schwarzen Loches./)||t.match(/Ein Kernbruch des F√ºhrungsschiffes f√ºhrte zu einer Kettenreaktion, die in einer durchaus spektakul√§ren Explosion die gesamte Expedition vernichtete./)||t.match(/Die Expeditionsflotte ist nicht mehr aus dem Sprung in den Normalraum zur√ºckgekehrt. Unsere Wissenschaftler r√§tseln noch immer, was geschehen sein k√∂nnte, jedoch scheint die Flotte endg√ºltig verloren zu sein./))&&($($(l).find("td")[3]).html('<span class="badge badge-black-hole">Schwarzes Loch</span>'),n="BLACK_HOLE",r=null),postJSON("expeditions",{external_id:i,date_time:a,type:n,size:r,message:t},(function(){}))}}},896:()=>{window.PageOverview=function(){const e=this;this.isLoading=!1,this.cacheKey="overviewData",this.container=null,this.request=null,this.fleetQueue=[],this.sumFleetMetal=0,this.sumFleetCrystal=0,this.sumFleetDeuterium=0,this.init=function(){this.parseOwnAttacks(),this.prepareHtml(),this.analyzeFleetMovement(),this.renderHtml(),this.loadData(),this.bindHotkeys()},this.bindHotkeys=function(){const t={i:"filter_inactive",n:"filter_noobs",u:"filter_vacation",a:"filter_alliance",s:"filter_spy_report",k:"filter_battle_report"},i={p:"filter_score_enable",g:"filter_score_building_enable",f:"filter_score_science_enable",m:"filter_score_fleet_enable",v:"filter_score_defense_enable",i:"filter_inactive_since_enable",k:"filter_last_battle_report_enable",s:"filter_last_spy_report_enable",q:"filter_metal_enable",w:"filter_crystal_enable",e:"filter_deuterium_enable"};$(window).keypress((function(a){const n=a.key.toLowerCase();let r=null;if(0===$("*:focus").length){if(a.shiftKey)i[n]&&(r="0"===getValue(i[n])?"1":"0",setValue(i[n],r));else if(t[n]){switch(getValue(t[n])){case"HIDE":r="ONLY";break;case"ONLY":r="ALL";break;default:r="HIDE"}setValue(t[n],r)}e.renderHtml()}}))},this.setLoading=function(e){this.isLoading=e},this.prepareHtml=function(){let e,t;$($("content .infos")[1]).addClass("fleet-movement"),$($("content .infos")[1]).html($($("content .infos")[1]).html().replace(/\&nbsp\;/,"")),$("span.fleets").each((function(e,t){$(t).parent()&&$(t).parent().html($(t).parent().html().replace(/Eine deiner /,"").replace(/zum Planet/,"zu").replace(/vom Planet/,"von").replace(/von dem Planet/,"von").replace(/den Planet/,"").replace(/vom Spieler/,"von").replace(/ Eine/,"Eine").replace(/ist im Orbit/,"h√§lt bei").replace(/(die|der) Position/,""))})),$("span.fleets").each((function(e,t){$(t).parent().html($(t).parent().html().replace(/Flotten/,"Flotte"))})),$("span.fleets").each((function(e,t){$(t).parent().html($(t).parent().html().replace(/\. Mission\: /,"</span><span>"))})),$("span.fleets").each((function(e,i){t=$($(i).parent()),-1!==t.html().search(/Verbandsangriff/)&&(t.find("br").remove(),t.html(t.html().replace(/<span>(Verbandsangriff|Angreifen)<\/span>/g,"")),t.append('<span style="color: rgb(51, 153, 102)">AKS</span>'),t.html(t.html().replace(/Eine deiner /g,"").replace(/zum Planet/g,"zu").replace(/vom Planet/g,"von").replace(/von dem Planet/g,"von").replace(/den Planet/g,"").replace(/vom Spieler/g,"von").replace(/Eine /g,"").replace(/ist im Orbit/g,"h√§lt bei").replace(/(die|der) Position/g,"").replace(/\. Mission\: Angreifen/g,"").replace(/\. Mission\: Verbandsangriff/g,"")),$(t.find(".flight")).each((function(e,i){e>0&&$(i).detach().appendTo(t.find("span")[1])})),$(t.find("span")[1]).html($(t.find("span")[1]).html().replace(/span/g,"div")))})),$("span.fleets").each((function(e,t){var i=new Date(1e3*$(t).attr("data-fleet-end-time"));$(t).parent().append(" <span>"+i.toLocaleTimeString("de-DE")+"</span>")})),e=$(".infos")[2].innerHTML.split("<br>");const i=Math.round((new Date).getTime()/1e3),a={building:$(".infos")[2].innerHTML.match(/Geb√§ude\: <\/a\>([^<>]+)\<br\>\<([^>]+)data\-time\=\"([0-9]+)\"/m),research:$(".infos")[2].innerHTML.match(/Forschung\: <\/a\>([^<>]+)\<br\>\<([^>]+)data\-time\=\"([0-9]+)\"/m),hangar:$(".infos")[2].innerHTML.match(/Schiffswerft\: <\/a\>([^<>]+)\<br\>\<([^>]+)data\-time\=\"([0-9]+)\"/m)};$.each(a,(function(e,t){setValue(ownGalaxy+":"+ownSystem+":"+ownPlanet+"_"+e+"_item",t?t[1]:""),setValue(ownGalaxy+":"+ownSystem+":"+ownPlanet+"_"+e+"_timestamp",t?i+parseInt(t[3]):"")}));const n={image:null,fieldsUsed:e.length>=6&&e[5].match(/bebaute Felder\"\>([0-9]+)\</),fieldsTotal:e.length>=6&&e[5].match(/bebaubare Felder\"\>([0-9]+)\</),temperatureMin:e.length>=7&&e[6].match(/von ([-0-9]+)\¬∞/),temperatureMax:e.length>=7&&e[6].match(/bis ([-0-9]+)\¬∞/)};setValue(ownGalaxy+":"+ownSystem+":"+ownPlanet+"_fieldsUsed",n.fieldsUsed?n.fieldsUsed[1]:""),setValue(ownGalaxy+":"+ownSystem+":"+ownPlanet+"_fieldsTotal",n.fieldsTotal?n.fieldsTotal[1]:""),setValue(ownGalaxy+":"+ownSystem+":"+ownPlanet+"_temperatureMin",n.temperatureMin?n.temperatureMin[1]:""),setValue(ownGalaxy+":"+ownSystem+":"+ownPlanet+"_temperatureMax",n.temperatureMax?n.temperatureMax[1]:""),$("content").addClass("home"),this.container=$(".infos:last-child"),$(".infos .planeto").remove(),e=$(".infos")[0].innerHTML.split("<br>");const r=e[1].split(/\:\:\&nbsp\;/);let s,l,o,d,c="";c+='<table class="borderless" style="padding: 0; margin: 0"><tr><td class="text-left" width="50%" style="padding: 0">',c+='<table class="borderless">',c+="<tr>",c+='<td class="text-left" width="10%">Serverzeit</td>',c+='<td class="text-left">'+e[0].replace(/Serverzeit \:/,"")+"</td>",c+="</tr>",c+="<tr>",c+='<td class="text-left">Admins</td>',c+='<td class="text-left">'+(r&&r.length>1?r[1]:"---").replace(/\&nbsp\;‚Ä¢/,",")+"</td>",c+="</tr>",c+="<tr>",c+='<td class="text-left">Punkte</td>',c+='<td class="text-left">'+e[3].replace(/Punkte /,"")+"</td>",c+="</tr>",c+="</table>",c+='<a style="margin-left: 12px; margin-top: 10px; color: #888; font-size: 10px;" href="javascript:void(0)" onclick="return Dialog.PlanetAction();">Planet umbenennen/aufgeben</a>',c+='</td><td style="padding: 0"><canvas id="playerChart" style="height: 100px; width: 100%"></canvas><canvas id="playerChartBar" style="height: 75px; width: 100%"></canvas></td></table>',$($(".infos")[0]).html(c),displayChart(),c='<table class="noMargin">',c+="<tr>",c+='<th width="20%">Planet</th>',c+='<th class="text-right">Geb√§ude</th>',c+='<th class="text-right">Forschung</th>',c+='<th class="text-right">Hangar</th>',c+='<th class="text-right">Metall</th>',c+='<th class="text-right">Kristall</th>',c+='<th class="text-right">Deuterium</th>',c+='<th class="text-right">Energie</th>',c+='<th class="text-right">Beobachtung</th>',c+="</tr>",$("#planetSelector option").each((function(e,t){s=getCoordinates(t.innerHTML),l=t.innerHTML.split("["),c+="<tr>",d="",o=getValue(s[1]+":"+s[2]+":"+s[3]+"_fieldsTotal"),value=getValue(s[1]+":"+s[2]+":"+s[3]+"_fieldsUsed"),d+=value&&"undefined"!==value&&""!==value?value:"---",d+=" / ",d+=(o&&"undefined"!==o&&""!==o?o:"---")+" Felder<br>",o=getValue(s[1]+":"+s[2]+":"+s[3]+"_temperatureMax"),value=getValue(s[1]+":"+s[2]+":"+s[3]+"_temperatureMin"),d+=value&&"undefined"!==value&&""!==value?value+"¬∞C":"---",d+=" bis ",d+=o&&"undefined"!==o&&""!==o?o+"¬∞C":"---",c+='<td class="text-left tooltip" data-tooltip-content="'+d+'">'+s[1]+":"+s[2]+":"+s[3]+" ("+l[0].replace(/ /g,"")+")</td>",o=getValue(s[1]+":"+s[2]+":"+s[3]+"_building_timestamp"),c+='<td class="text-right" title="'+(getValue(s[1]+":"+s[2]+":"+s[3]+"_building_item")||"---")+'">'+(o&&"undefined"!==o?'<span class="timer" data-time="'+(parseInt(o)-Math.round((new Date).getTime()/1e3))+'"></span>':"---")+"</td>",0===e?(o=getValue(s[1]+":"+s[2]+":"+s[3]+"_research_timestamp"),value=getValue(s[1]+":"+s[2]+":"+s[3]+"_research_item"),c+='<td class="text-right" title="'+(value&&"undefined"!==value&&""!==value?value:"---")+'">'+(o&&"undefined"!==o?'<span class="timer" data-time="'+(parseInt(o)-Math.round((new Date).getTime()/1e3))+'"></span>':"---")+"</td>"):c+='<td class="disabled text-right" style="color: #333">---</td>',o=getValue(s[1]+":"+s[2]+":"+s[3]+"_hangar_timestamp"),value=getValue(s[1]+":"+s[2]+":"+s[3]+"_hangar_item"),c+='<td class="text-right" title="'+(value&&"undefined"!==value&&""!==value?value:"---")+'">'+(o&&"undefined"!==o?'<span class="timer" data-time="'+(parseInt(o)-Math.round((new Date).getTime()/1e3))+'"></span>':"---")+"</td>",c+='<td class="text-right"><span data-tooltip-content="'+numberFormat(getInt(getValue(s[0]+"_production_metal"))/86400*3600)+" / Stunde<br>Limit: "+numberFormat(getInt(getValue(s[0]+"_limit_metal")))+'" class="tooltip ress_metal_'+s[0].replace(/\:/g,"_")+'"></span></td>',c+='<td class="text-right"><span data-tooltip-content="'+numberFormat(getInt(getValue(s[0]+"_production_crystal"))/86400*3600)+" / Stunde<br>Limit: "+numberFormat(getInt(getValue(s[0]+"_limit_crystal")))+'" class="tooltip ress_crystal_'+s[0].replace(/\:/g,"_")+'"></span></td>',c+='<td class="text-right"><span data-tooltip-content="'+numberFormat(getInt(getValue(s[0]+"_production_deuterium"))/86400*3600)+" / Stunde<br>Limit: "+numberFormat(getInt(getValue(s[0]+"_limit_deuterium")))+'" class="tooltip ress_deuterium_'+s[0].replace(/\:/g,"_")+'"></span></td>',c+='<td class="text-right" style="color: '+getRgb(parseInt(getValue(s[0]+"_production_energy"))>0?cGreen:cRed)+'">'+(getValue(s[0]+"_production_energy")||"---")+"</td>",dateTime=(new PlanetResourceNotification).getFinishTime(s[0]),dateTime?(c+='<td class="text-right tooltip" data-tooltip-content="<b>Es fehlen:</b></br>',c+=(new PlanetResourceNotification).getDiffForResource(s[0],"metal")+" / "+numberFormat(getInt(getValue(s[0]+"_notification_metal")))+" Metall<br>",c+=(new PlanetResourceNotification).getDiffForResource(s[0],"crystal")+" / "+numberFormat(getInt(getValue(s[0]+"_notification_crystal")))+" Kristall<br>",c+=(new PlanetResourceNotification).getDiffForResource(s[0],"deuterium")+" / "+numberFormat(getInt(getValue(s[0]+"_notification_deuterium")))+" Deuterium",c+='"><i class="fa fa-bell-slash"  onclick="(new PlanetResourceNotification().removeNotification(\''+s[0]+'\'))"></i> <span class="notification-timer" data-timestamp="'+dateTime+'">'+formatTimeDiff(dateTime)+"</span></td>"):c+='<td class="text-right">---</td>',c+="</tr>"})),c+="<tr>",c+='<td class="text-left">Flotten</td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right tooltip" id="infoFleetMetal"><span id="sumFleetMetal"></span></td>',c+='<td class="text-right tooltip" id="infoFleetCrystal"><span id="sumFleetCrystal"></span></td>',c+='<td class="text-right tooltip" id="infoFleetDeuterium"><span id="sumFleetDeuterium"></span></td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right" style="color: #888">---</td>',c+="</tr>",c+="<tr>",c+='<td class="text-left">Summe</td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right tooltip" id="infoMetal"><span id="sumMetal"></span> <small style="color: #888">/ <span id="sumLimitMetal"></span></small></td>',c+='<td class="text-right tooltip" id="infoCrystal"><span id="sumCrystal"></span> <small style="color: #888">/ <span id="sumLimitCrystal"></span></small></td>',c+='<td class="text-right tooltip" id="infoDeuterium"><span id="sumDeuterium"></span> <small style="color: #888">/ <span id="sumLimitDeuterium"></span></small></td>',c+='<td class="text-right" style="color: #888">---</td>',c+='<td class="text-right" style="color: #888">---</td>',c+="</tr>",c+="</table>",$($(".infos")[2]).html(c)},this.checkVersion=function(){var e=this.getData();e&&isNewerVersionAvailable(e.version)&&$("body").prepend('<div style="padding: 10px 15px; background: '+getRgb(cRed)+"; color: "+getRgb(cWhite)+'; z-index: 10000; position: fixed; top: 0; left: 0; right: 0;" id="progress-bar"><i class="fa fa-exclamation-triangle"></i>  Eine neue Plugin-Version v<a href="https://pr0game-hub.eskju.net/download/releases/pr0game-hub.v'+e.version+'.js" target="_blank" download>'+e.version+"</a> ist verf&uuml;gbar.</div>")},this.parseOwnAttacks=function(){let t=null;$("#hidden-div2 > li > span:nth-child(2)").each((function(i,a){(a=$(a)).hasClass("ownattack")&&(t=$(a).find(".ownattack"),e.fleetQueue.push({from:$(t[1]).html().replace(/\[(.*)\]/,"$1"),to:$(t[2]).html().replace(/\[(.*)\]/,"$1"),type:a.attr("class"),time:$(a).parent().find("span.fleets")})),a.hasClass("ownespionage")&&(t=$(a).find(".ownespionage"),e.fleetQueue.push({from:$(t[1]).html().replace(/\[(.*)\]/,"$1"),to:$(t[2]).html().replace(/\[(.*)\]/,"$1"),type:a.attr("class"),time:$(a).parent().find("span.fleets")}))}))},this.loadData=function(){null!==this.request&&this.request.abort();const t=[];let i;$("#planetSelector option").each((function(e,a){i=getCoordinates(a.innerHTML),t.push(i[0])})),this.setLoading(!0),this.request=postJSON("players/overview",{galaxy:ownGalaxy,system:ownSystem,planet:ownPlanet,ownPlanets:t,show_galaxy:"1"===getValue("show_galaxy_enable")&&getValue("show_galaxy_value")||ownGalaxy,order_by:getValue("orderBy"),order_direction:getValue("orderDirection"),date_for_humans:"1"===(getValue("date_for_humans")||"0")},(function(t){setValue(e.cacheKey,t.responseText),e.setLoading(!1),e.checkVersion(),e.renderHtml()}))},this.getData=function(){var t=getValue(this.cacheKey);try{var i=e.sortData,a=JSON.parse(t);return a.players=a.players.sort(i),a}catch(e){return{players:[],outdated_ids:[],version,player:null}}},this.bindFilters=function(){$(".phFilter").each((function(e,t){$(t).on("change",(function(){"checkbox"===$(this).attr("type")?savePhOption($(this).attr("data-alias"),$(this)[0].checked?"1":"0"):savePhOption($(this).attr("data-alias"),$(this).val())}))}))},this.bindHeadlineSort=function(){$(".sortable").each((function(t,i){$(i).css("cursor","pointer"),$(i).attr("data-sort")==(getValue("orderBy")||"distance")&&("ASC"===(getValue("orderDirection")||"ASC")?$(i).prepend('<i class="fa fa-caret-up"></i> '):$(i).prepend('<i class="fa fa-caret-down"></i> ')),$(i).click((function(){e.orderBy($(i).attr("data-sort"),$(i).attr("data-direction")),e.renderHtml()}))}))},this.orderBy=function(e,t){e===getValue("orderBy")&&(t="ASC"===getValue("orderDirection")?"DESC":"ASC"),setValue("orderBy",e),setValue("orderDirection",t)},this.sortData=function(e,t){let i=getValue("orderBy")||"distance";const a="DESC"!==getValue("orderDirection")?1:-1,n=i.split(".");2===n.length&&(e=e[n[0]],t=t[n[0]],i=n[1]);let r=e[i]||"",s=t[i]||"";return"alliance_name"!==i&&"name"!==i?(r=getInt(r),s=getInt(s)):(r=r.toLowerCase(),s=s.toLowerCase()),(r<s?-1:r>s?1:0)*a},this.applyRowStyles=function(e){let t,i,a,n,r,s,l,o,d,c;$(e.players).each((function(h,g){t=getPlayerRowStyle(g.player,e.player.score),i=getPlayerScoreStyle(g.player,e.player),a=getPlayerScoreBuildingStyle(g.player,e.player),n=getPlayerScoreScienceStyle(g.player,e.player),r=getPlayerScoreMilitaryStyle(g.player,e.player),s=getPlayerScoreDefenseStyle(g.player,e.player),l=getPlayerRowTdStyle(g.player,e.player.score,e.player),o=$("#row"+g.id),d=$(o).find("td"),c=o.find("td a"),e.player&&o.css(t),$(d[6]).css(i),$(d[7]).css(i),$(d[8]).css(a),$(d[9]).css(n),$(d[10]).css(r),$(d[11]).css(s),e.player&&c.css(l),e.player&&c.css(l)}))},this.bindSettingsLink=function(){$("#showSettings").click((function(){setValue("hideSettings","0"),$("#phSettings").show(),e.renderHtml()})),$("#hideSettings").click((function(){setValue("hideSettings","1"),$("#phSettings").show(),e.renderHtml()}))},this.bindSpyLinks=function(){$(".spio-link").click((function(){$.getJSON("game.php?page=fleetAjax&ajax=1&mission=6&planetID="+$(this).attr("data-id"),(function(e){showMessage(e.mess,600===e.code?"success":"danger")}))}))},this.checkUpdatableIds=function(e){e.outdated_ids.length>0&&3==ownGalaxy&&227==ownSystem&&10==ownPlanet&&(this.container.prepend('<button id="fetchMissingIdsBtn">Fetch '+e.outdated_ids.length+" outdated IDs</button>"),$("#fetchMissingIdsBtn").click((function(){playerUpdateQueue=e.outdated_ids,$("#fetchMissingIdsBtn").remove(),processQueue()})))},this.renderHtml=function(){var t='<table id="hubOverview" width="100%" style="max-width: 100% !important"><tr>',i=this.getData();if(updateConfigVars(),!i)return;t+='<th style="text-align: center;">#</th>',t+='<th class="sortable" data-sort="alliance_name" data-direction="ASC">Ally</th>',t+='<th class="sortable" data-sort="player.name" data-direction="ASC">Spieler</th>',t+='<th style="text-align: center;" colspan="3">',t+='<span class="sortable" data-sort="distance" title="Distanz" data-direction="ASC" id="sortByDistance"><i class="fa fa-map-marker-alt"></i></span>',t+="&nbsp;",t+='<span class="sortable" data-sort="system" title="System" data-direction="ASC" id="sortBySystem"><i class="fa fa-sort-numeric-down"></i></span>',t+="</th>",t+='<th class="sortable" data-sort="player.score" title="Punkte" data-direction="DESC" style="text-align: center; color: '+getRgb(cBlue)+'" id="sortByScore"><i class="fa fa-chart-line"></i></th>',t+='<th class="sortable" data-sort="diff" title="Punktedifferenz zum Vortag" data-direction="ASC" style="text-align: center; color: '+getRgb(cBlue)+'" id="sortByScoreDiff"><i class="fa fa-sort-numeric-up-alt"></i></th>',t+='<th class="sortable" data-sort="player.score_building" title="Gebaeudepunkte" data-direction="DESC" style="text-align: center; color: '+getRgb(cGreen)+'" id="sortByScoreBuilding"><i class="fa fa-industry"></i></th>',t+='<th class="sortable" data-sort="player.score_science" title="Forschungspunkte" data-direction="DESC" style="text-align: center; color: '+getRgb(cPink)+'" id="sortByScoreScience"><i class="fa fa-flask"></i></th>',t+='<th class="sortable" data-sort="player.score_military" title="Militaerpunkte" data-direction="DESC" style="text-align: center; color:'+getRgb(cRed)+'" id="sortByScoreMilitary"><i class="fa fa-fighter-jet"></i></th>',t+='<th class="sortable" data-sort="score_defense" title="Verteidigungspunkte" data-direction="DESC" style="text-align: center; color: '+getRgb(cYellow)+'" id="sortByScoreDefense"><i class="fa fa-shield"></i></th>',t+='<th class="sortable" data-sort="last_battle_report_hours" title="Letzter Angriff" data-direction="ASC" style="text-align: right;"><i class="fa fa-crosshairs"></i></th>',t+='<th class="sortable" data-sort="last_spy_report_hours" title="Letze Spionage" data-direction="DESC" style="text-align: right;"><i class="fa fa-user-secret"></i></th>',t+='<th style="text-align: center;">Actions</th>',t+='<th class="sortable" data-sort="last_spy_metal" data-direction="DESC" title="Metall (Letzte Spionage)" style="text-align: right;" id="sortBySpioMet">MET</th>',t+='<th class="sortable" data-sort="last_spy_crystal" data-direction="DESC" title="Kristall (Letzte Spionage)" style="text-align: right;" id="sortBySpioCry">CRY</th>',t+='<th class="sortable" data-sort="last_spy_deuterium" data-direction="DESC" title="Deuterium (Letzte Spionage)" style="text-align: right;" id="sortBySpioDeu">DEU</th></tr>',null!==i.player&&(ownPlayer=i.player);let a=0;$(i.players).each((function(n,r){if(filterTableRow(r,i.player)){a++,t+='<tr id="row'+r.id+'">',t+="<td>"+a+"</td>",t+='<td style="text-align: left; max-width: 50px"><div style="max-width: 50px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+(r.alliance_name||"---")+"</div></td>",t+='<td style="text-align: left; max-width: 100px"><div style="max-width: 100px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">',null!==r.inactive_since&&r.inactive_since<48&&(t+='<span style="padding: 2px 5px; border-radius: 2px; background: '+getRgb(cRed)+"; color: "+getRgb(cWhite)+'; border-radius: 2px; margin-right: 5px; font-size: 10px;">'+r.inactive_since+"H</span>"),t+='<a href="/game.php?page=playerCard&id='+r.player.id+'">'+r.player.name+"</a></div></td>",t+='<td id="row'+r.id+'Galaxy">'+(r.galaxy||"---")+"</td>",t+='<td id="row'+r.id+'System"><a href="/game.php?page=galaxy&galaxy='+(r.galaxy||"")+"&system="+(r.system||"")+'">'+(r.system||"---")+"</a></td>",t+='<td id="row'+r.id+'Planet">'+(r.planet||"---")+"</td>",t+='<td id="row'+r.id+'Score">'+numberFormat(r.player.score,!0)+"</td>",t+='<td id="row'+r.id+'ScoreDiff">'+numberFormat((r.diff&&r.diff>0?"+"+r.diff:r.diff)||"0",!0)+"</td>",t+='<td id="row'+r.id+'ScoreBuilding">'+numberFormat(r.player.score_building,!0)+"</td>",t+='<td id="row'+r.id+'ScoreScience">'+numberFormat(r.player.score_science,!0)+"</td>",t+='<td id="row'+r.id+'ScoreMilitary">'+numberFormat(r.player.score_military,!0)+"</td>",t+='<td id="row'+r.id+'ScoreDefense" title="Gesamt: '+(null!==r.player.score_defense?numberFormat(r.player.score_defense,!1):"???")+'">'+numberFormat(r.score_defense,!1)+"</td>",t+='<td style="text-align: right; white-space: nowrap">';var s=0;$.each(e.fleetQueue,(function(e,i){if(i.to==r.coordinates||i.from==r.coordinates)switch(i.type){case"flight ownattack":t+='<div style="text-align: center; background: '+getRgb(cRed)+"; margin-bottom: -1px; color: "+getRgb(cWhite)+'; border-radius: 2px; padding: 2px 5px; font-size: 10px;">'+i.time[0].outerHTML+"</div>",s++;break;case"return ownattack":t+='<div style="text-align: center; background: '+getRgb(cBlack)+"; color: "+getRgb(cRed)+"; outline: 1px solid "+getRgb(cRed)+'; outline-offset: -1px; border-radius: 2px; padding: 2px 5px; font-size: 10px;">'+i.time[0].outerHTML+"</div>",s++;break;case"flight ownespionage":t+='<div style="text-align: center; background: '+getRgb(cYellow)+"; margin-bottom: -1px; color: "+getRgb(cBlack)+'; border-radius: 2px; padding: 2px 5px; font-size: 10px;">'+i.time[0].outerHTML+"</div>",s++;break;case"return ownespionage":t+='<div style="text-align: center; background: '+getRgb(cBlack)+"; color: "+getRgb(cYellow)+"; outline: 1px solid "+getRgb(cYellow)+'; outline-offset: -1px; border-radius: 2px; padding: 2px 5px; font-size: 10px;">'+i.time[0].outerHTML+"</div>",s++}})),t+=0===s&&r.last_battle_report||"",t+=" </td>",t+='<td style="text-align: right; cursor: pointer; white-space: nowrap" onclick="showSpyReportHistory('+r.galaxy+", "+r.system+", "+r.planet+')">'+(r.last_spy_report||"")+"</td>",t+="<td>",r.external_id?t+='[<a class="spio-link" data-id="'+r.external_id+'" style="cursor: pointer">S</a>]':t+=' [<a style="color: #666" href="/game.php?page=fleetTable&galaxy='+r.galaxy+"&system="+r.system+"&planet="+r.planet+'&planettype=1&target_mission=6" style="cursor: pointer">S</a>]',t+=' [<a  href="/game.php?page=fleetTable&galaxy='+r.galaxy+"&system="+r.system+"&planet="+r.planet+'&planettype=1&target_mission=1" style="cursor: pointer">A</a>]',t+="</td>",t+='<td style="text-align: right;">'+numberFormat(r.last_spy_metal,!0)+"</td>",t+='<td style="text-align: right;">'+numberFormat(r.last_spy_crystal,!0)+"</td>";var l=Math.ceil(getInt(r.last_spy_metal)/2+getInt(r.last_spy_crystal)/2+getInt(r.last_spy_deuterium)/2);t+='<td style="text-align: right;" title="'+Math.ceil(l/5e3)+" KT, "+l+' raidable">'+numberFormat(r.last_spy_deuterium,!0)+"</td>",t+="</tr>"}})),this.container.html(getOverviewHeader()+t+"</table>"),this.bindSettingTabs(),this.bindFilters(),this.applyRowStyles(i),this.bindHeadlineSort(),this.bindSettingsLink(),this.bindSpyLinks(),this.checkUpdatableIds(i)},this.analyzeFleetMovement=function(){let t,i,a,n,r,s,l=[];$(".fleet-movement ul li").each((function(o,d){t=$($(d).children()),i=$(t[1]).html().match(/\[([:0-9]+)\](.*)\[([:0-9]+)\]/),a=$(t[0]).attr("id").replace(/fleettime\_/,""),n=a.substring(10,a.length),r=$(t[2]).find("a").length>0?$($(t[2]).find("a")).html():$(t[2]).html(),$(d).attr("id","fleet"+n+"-"+($(t[1]).hasClass("return")||-1!==$(t[1]).html().search(/h√§lt bei/)?"1":"0")),i&&i.length>0&&(s=e.getResources($(t[2]).find("span.textForBlind")),l.push({external_id:n,is_return:$(t[1]).hasClass("return")||-1!==$(t[1]).html().search(/h√§lt bei/),outbound_flight_id:$(t[1]).hasClass("return")||-1!==$(t[1]).html().search(/h√§lt bei/)?n:null,timestamp_departure:null,timestamp_arrival:parseInt($(t[0]).attr("data-fleet-end-time")),type:r,planet_start_coordinates:i[1],planet_target_coordinates:i[3],resources:s,ships:e.getShips($(t[1]).find("span.textForBlind"))}),e.sumFleetMetal+=getInt(s.metal||0),e.sumFleetCrystal+=getInt(s.crystal||0),e.sumFleetDeuterium+=getInt(s.deuterium||0))})),$("#sumFleetMetal").html(numberFormat(this.sumFleetMetal,!0)),$("#sumFleetCrystal").html(numberFormat(this.sumFleetCrystal,!0)),$("#sumFleetDeuterium").html(numberFormat(this.sumFleetDeuterium,!0)),postJSON("flights",{activities:l},(function(e){let t,i,a,n;e=JSON.parse(e.responseText),$(".fleet-movement").append('<div style="border-top: 1px solid #222; border-bottom: 1px solid #222; padding: 10px 0; margin: 10px 0"><b>'+e.slots_used+" Slots genutzt</b></div>"),$.each(e.flights,(function(e,r){r.ships_diff&&(t='<table style="width: 250px">',$.each(r.ships_diff,(function(e,i){t+="<tr>",t+='<td class="text-left">'+e+"</td>",t+='<td class="text-right">'+i.after+"</td>",i.diff>0?t+='<td class="text-right text-green">+'+i.diff+"</td>":i.diff<0?t+='<td class="text-right text-red">'+i.diff+"</td>":t+='<td class="text-right text-gray">---</td>',t+="</tr>"})),t+="</table>",n=$("#fleet"+r.external_id+"-"+r.is_return+" > span:nth-child(2) a"),n.attr("data-tooltip-content",t)),r.resources_diff&&(t='<table style="width: 250px">',$.each(r.resources_diff,(function(e,i){t+="<tr>",t+='<td class="text-left">'+e+"</td>",t+='<td class="text-right">'+i.after+"</td>",i.diff>0?t+='<td class="text-right text-green">+'+i.diff+"</td>":i.diff<0?t+='<td class="text-right text-red">'+i.diff+"</td>":t+='<td class="text-right text-gray">---</td>',t+="</tr>"})),t+="</table>",n=$("#fleet"+r.external_id+"-"+r.is_return+" > span:nth-child(3) a"),n.attr("data-tooltip-content",t)),r.is_return&&(n=$("#fleet"+r.external_id+"-"+r.is_return+" > span:nth-child(2)").prepend('<i class="fa fa-backward"></i> ')),t='<span style="width: 4%" class="text-right">',t+='<a class="tooltip" data-tooltip-content="'+escape(i)+'">',i='<table style="width: 700px; border: 1px solid rgba(255, 255, 255, 0.25); box-shadow: 0 0 10px rgba(0, 0, 0, 0.5)" cellspacing="0">',i+="<tr>",i+='<th class="text-left">&nbsp;</th>',i+='<th class="text-right">Anzahl</th>',i+='<th class="text-right">Differenz</th>',i+='<th class="text-right">Metall</th>',i+='<th class="text-right">Kristall</th>',i+='<th class="text-right">Deuterium</th>',i+='<th class="text-right">Punkte</th>',i+="</tr>",r.resources_diff&&(a=0,$.each(r.resources_diff,(function(e,t){i+="<tr>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-left">'+e+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right">'+t.after+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.diff)+'">'+t.diff+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.metal)+'">'+t.metal+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.crystal)+'">'+t.crystal+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.deuterium)+'">'+t.deuterium+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.score)+'">'+t.score+"</td>",i+="</tr>",a++}))),r.ships_diff&&(a=0,$.each(r.ships_diff,(function(e,t){i+="<tr>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-left">'+e+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right">'+t.after+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.diff)+'">'+t.diff+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.metal)+'">'+t.metal+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.crystal)+'">'+t.crystal+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.deuterium)+'">'+t.deuterium+"</td>",i+='<td style="'+(0===a?"border-top: 1px dashed "+getRgb(cGray):"")+'" class="text-right '+getStyle(t.score)+'">'+t.score+"</td>",i+="</tr>",a++}))),i+="<tr>",i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-left"><b>Gesamt</b></th>',i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-right text-gray">---</th>',i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-right text-gray"></th>',i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-right '+getStyle(r.metal_diff)+'">'+r.metal_diff+"</th>",i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-right '+getStyle(r.crystal_diff)+'">'+r.crystal_diff+"</th>",i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-right '+getStyle(r.deuterium_diff)+'">'+r.deuterium_diff+"</th>",i+='<th style="border-top: 1px dashed '+getRgb(cGray)+'" class="text-right '+getStyle(r.score_diff)+'">'+r.score_diff+"</th>",i+="</tr>",i+="</table>",r.is_return?getInt(r.score_diff)>0?t+='<span class="text-green">+'+r.score_diff+"</span>":0===getInt(r.score_diff)?t+='<span style="color: #444"><small>+/-</small> 0</span>':t+='<span class="text-red">'+r.score_diff+"</span>":t+='<span style="color: #444">---</span>',t+="</a>",t+="</span>",$("#fleet"+r.external_id+"-"+r.is_return).append(t),$("#fleet"+r.external_id+"-"+r.is_return+" span:last-child a.tooltip").attr("data-tooltip-content",i)})),t='<table class="borderless" style="padding: 0; margin: 0"><tr><td width="50%" style="padding: 0" >',t+="<tr>",t+='<th style="white-space: nowrap">Planet</th>',t+='<th style="white-space: nowrap" class="text-right">Letzte 24 Std</th>',t+='<th style="white-space: nowrap" class="text-right">Metall</th>',t+='<th style="white-space: nowrap" class="text-right">Kristall</th>',t+='<th style="white-space: nowrap" class="text-right">Deuterium</th>',t+='<th style="white-space: nowrap" class="text-right">Punkte</th>',t+="</tr>",$.each(e.expeditions,(function(e,i){t+="<tr>",t+='<td style="white-space: nowrap" class="text-left">'+e+"</td>",t+='<td style="white-space: nowrap" class="text-right">'+i.count_24+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.metal_diff)+'">'+i.metal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.crystal_diff)+'">'+i.crystal_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.deuterium_diff)+'">'+i.deuterium_diff+"</td>",t+='<td style="white-space: nowrap" class="text-right '+getStyle(i.score_diff)+'">'+i.score_diff+"</td>",t+="</tr>"})),t+="</table>",t+='<small class="text-left" style="display: block; color: '+getRgb(cRed)+'; padding-top: 10px; margin-top: 10px; border-top: 1px solid #222">Flottenbewegungen werden nur erfasst, wenn sowohl w√§hrend Hin- als auch R√ºckflug die √úbersicht mit diesem Plugin ge√∂ffnet wurde. Metall/Kristall/Deuterium/Punkte berechnen den Ressourcengewinn, sowie Schiffsgewinn und -verlust (Produktionskosten) mit ein. Komplettverluste (depleted/black hole) sowie Expo-Abbr√ºche werden <u>NICHT</u> erfasst.</small>',$(".fleet-movement").append(t)}))},this.getResources=function(e){if(0===e.length)return[];const t=$(e).html().match(/([.0-9]+) Metall\; ([.0-9]+) Kristall\; ([.0-9]+) Deuterium/);return{metal:t[1],crystal:t[2],deuterium:t[3]}},this.getShips=function(e){if(0===e.length)return[];const t={},i=$(e).html().replace(/([\(\)]+)/g,"").split(/;/);let a;return $.each(i,(function(e,i){a=i.match(/([0-9]+) (.*)$/),a&&a.length>=3&&(t[a[2]]=a[1])})),t},this.bindSettingTabs=function(){e.showSettingsTabs(getValue("settings_tab")||"general"),$("#settingsFilterGeneral").click((function(){e.showSettingsTabs("general")})),$("#settingsFilterHighlighting").click((function(){e.showSettingsTabs("highlighting")})),$("#settingsFilterFilter").click((function(){e.showSettingsTabs("filter")})),$("#settingsFilterThresholds").click((function(){e.showSettingsTabs("thresholds")})),$("#settingsFilterFriends").click((function(){e.showSettingsTabs("friends")}))},this.showSettingsTabs=function(e){setValue("settings_tab",e),$(".settings-filter").hide(),$(".settings-filter-"+e).show(),$(".settings-button").removeClass("text-red"),$(".settings-button-"+e).addClass("text-red")}}},524:()=>{window.parsePagePlayerCard=function(){var e=window.location.href.match(/[\?\&]id=([(0-9]+)/i)[1];if($("body").html().match(/\/includes\/pages\/game\/ShowPlayerCardPage\.class\.php/))postJSON("players/"+e+"/delete",{},(function(){}));else{var t=($("#content tr:nth-child(4) a").attr("onclick")||"").match(/\&id\=([0-9]+)/);postJSON("players/"+e,{name:$("#content tr:nth-child(2) td:nth-child(2)").html(),alliance_id:t?t[1]:null,alliance_name:$("#content tr:nth-child(4) a").html()||null,main_coordinates:$("#content tr:nth-child(3) a").html().replace(/\[(.*)\]/,"$1"),score_building:getInt($("#content tr:nth-child(6) td:nth-child(2)").html()),score_science:getInt($("#content tr:nth-child(7) td:nth-child(2)").html()),score_military:getInt($("#content tr:nth-child(8) td:nth-child(2)").html()),score_defense:getInt($("#content tr:nth-child(9) td:nth-child(2)").html()),score:getInt($("#content tr:nth-child(10) td:nth-child(2)").html()),combats_won:getInt($("#content tr:nth-child(13) td:nth-child(2)").html()),combats_draw:getInt($("#content tr:nth-child(14) td:nth-child(2)").html()),combats_lost:getInt($("#content tr:nth-child(15) td:nth-child(2)").html()),combats_total:getInt($("#content tr:nth-child(16) td:nth-child(2)").html()),units_shot:getInt($("#content tr:nth-child(18) td:nth-child(2)").html()),units_lost:getInt($("#content tr:nth-child(19) td:nth-child(2)").html()),rubble_metal:getInt($("#content tr:nth-child(20) td:nth-child(2)").html()),rubble_crystal:getInt($("#content tr:nth-child(21) td:nth-child(2)").html())},(function(e){}));var i=$("table");i.append('<tr><th colspan="3">Planeten</th></tr>'),getJSON("players/"+e+"/planets",(function(e){200===e.status&&$.each(JSON.parse(e.responseText),(function(e,t){i.append('<tr><td colspan="3" style="text-align: left"><a href="/game.php?page=galaxy&galaxy='+(t.galaxy||"")+"&system="+(t.system||"")+'">'+t.coordinates+"</a></td></tr>")}))})),$("#content").append('<canvas id="playerChart" style="width: 95%; margin: 15px auto; height: 300px"></canvas>'),$("#content").append('<canvas id="playerChartBar" style="width: 95%; margin: 15px auto; height: 100px"></canvas>'),displayChart(e)}}},6789:()=>{window.PageResearch=function(){const e=this;this.data=[],this.convertHtml=function(){$("content").addClass("research"),$(".infos, .infoso").each((function(t,i){$(i).addClass("building"),$($(i).find("div:nth-child(2)")).addClass("building-left"),$($(i).find("div:nth-child(3)")).addClass("building-right"),e.disableButtons($($(i).find("div:nth-child(3)"))),e.changeBuildTimeStyle($($(i).find("div:nth-child(3)")))})),$("content").html($("content").html().replace(/\(Stufe ([0-9]+)\)/g,'<br><span class="highlight">Stufe $1</span><br>'))},this.init=function(){const t=[];let i,a;this.convertHtml(),$(".buildn").each((function(e,n){i=$(n).html().match(/\.info\(([0-9]+)\)\"\>([^<]+)\<\/a\>/),a=$(n).html().match(/Stufe ([0-9]+)/),t.push({research_id:getInt(i[1]),level:a?getInt(a[1]):0})})),postJSON("players/research",{research:t},(function(t){e.data=JSON.parse(t.responseText),$(".buildn").each((function(t,a){i=$(a).html().match(/\.info\(([0-9]+)\)\"\>([^<]+)\<\/a\>/),$(a).append("Max: "+e.data[i[1]].max_level),e.data[i[1]].max_level>0&&$(a).append('<div class="player_names">'+e.data[i[1]].player_names.replace(/,/g,", ")+"</div>")}))}))},this.disableButtons=function(t){if($(t).find(".text-red").length>0){$($(t).find(".build_submit")).addClass("text-gray"),$(t).parent().addClass("fade-"+(0===$(t).find(".build_submit").length?"25":"75"));let i=$($(t).parent().find(".building-right")),a=$(i.find("> span:first-child")).html(),n=ownGalaxy+":"+ownSystem+":"+ownPlanet,r=$($(t).parent().find(".buildn > a")).attr("onclick").match(/\(([0-9]+)\)/)[1],s=e.getCost("Metall",a),l=e.getCost("Kristall",a),o=e.getCost("Deuterium",a);if((new PlanetResourceNotification).hasNotification(n,r)){const e=(new PlanetResourceNotification).getFinishTime(n);i.append("<br><button onclick=\"(new PlanetResourceNotification().removeNotification('"+n+'\'))" style="color: '+getRgb(cRed)+'"><i class="fa fa-bell-slash"></i> baubar in <span class="notification-timer" data-timestamp="'+e+'">'+formatTimeDiff(e)+"</span></button>")}else i.append("<br><button onclick=\"(new PlanetResourceNotification().addNotification('"+n+"', '"+r+"',"+s+","+l+","+o+'))" style="color: '+getRgb(cGreen)+'"><i class="fa fa-bell"></i> benachrichtigen, wenn baubar</button>')}window.setInterval((function(){$(".notification-timer").each((function(){$(this).text(formatTimeDiff($(this).attr("data-timestamp")))}))}),1e3)},this.changeBuildTimeStyle=function(e){$(e).html($(e).html().replace(/(.*)Bauzeit\:(.*)/,'$1<span class="text-gray">Bauzeit: $2</span>'))},this.getCost=function(e,t){let i;switch(e){case"Metall":i=t.match(/\<a (.*)\>(Metall)\<\/a\>(.*)\<b(.*)\<span(.*)\>([.0-9]+)\<\//);break;case"Kristall":i=t.match(/\<a (.*)\>(Kristall)\<\/a\>(.*)\<b(.*)\<span(.*)\>([.0-9]+)\<\//);break;case"Deuterium":i=t.match(/\<a (.*)\>(Deuterium)\<\/a\>(.*)\<b(.*)\<span(.*)\>([.0-9]+)\<\//)}return i?getInt(i[6]):0}}},2658:()=>{window.PageResources=function(){const e=this;this.init=function(){this.parseLines($("content table tr"))},this.parseLines=function(t){let i;$.each(t,(function(t,a){switch(i=0===$($(a).find("td")[0]).find("a").length?$($(a).find("td")[0]).html():$($(a).find("td > a")[0]).html(),i){case"Lagerkapazit√§t":setValue(ownCoords[0]+"_limit_metal",e.parseCapacity($($($(a).find("td")[1]).find("span")).html())),setValue(ownCoords[0]+"_limit_crystal",e.parseCapacity($($($(a).find("td")[2]).find("span")).html())),setValue(ownCoords[0]+"_limit_deuterium",e.parseCapacity($($($(a).find("td")[3]).find("span")).html()));break;case"Pro Tag":setValue(ownCoords[0]+"_production_metal",getInt($($($(a).find("td")[1]).find("span")).html()).toString()),setValue(ownCoords[0]+"_production_crystal",getInt($($($(a).find("td")[2]).find("span")).html()).toString()),setValue(ownCoords[0]+"_production_deuterium",getInt($($($(a).find("td")[3]).find("span")).html()).toString()),setValue(ownCoords[0]+"_production_energy",getInt($($($(a).find("td")[4]).find("span")).html()).toString())}}))},this.parseCapacity=function(e){let t=1;return-1!==e.search(/K/)&&(t=1e3),-1!==e.search(/M/)&&(t=1e6),getInt(e)*t}}},7577:()=>{window.parsePageStatistics=function(){var e=[],t=[],i=[];$(".table519:nth-child(2) tr").each((function(a,n){if(a>0){var r=parseInt($(n).find("td:nth-child(2) a").attr("onclick").replace(/return Dialog\.Playercard\((.*)\, (.*)\);/,"$1"));e.push(r),$(n).attr("id","row"+r),$(n).find("td:nth-child(2) .galaxy-short-inactive").length>0&&t.push(r),$(n).find("td:nth-child(2) .galaxy-short-vacation").length>0&&i.push(r)}else $(n).append("<th>Koords</th>"),$(n).append("<th>B</th>"),$(n).append("<th>S</th>"),$(n).append("<th>M</th>"),$(n).append("<th>D</th>")})),postJSON("players/stats",{ids:e,inactive_ids:t,vacation_ids:i,order_by:getValue("orderBy")},(function(e){e=JSON.parse(e.responseText),$(e.players).each((function(t,i){var a=$("#row"+i.id);a.append('<td id="row'+i.id+'Coordinates">'+(i.main_coordinates||"---")+"</td>"),a.append('<td id="row'+i.id+'ScoreBuilding">'+(i.score_building||"")+"</td>"),a.append('<td id="row'+i.id+'ScoreScience">'+(i.score_science||"")+"</td>"),a.append('<td id="row'+i.id+'ScoreMilitary">'+(i.score_military||"")+"</td>"),a.append('<td id="row'+i.id+'ScoreDefense">'+(i.score_defense||"")+"</td>"),a.css(getPlayerRowStyle(i)),$("#row"+i.id+" td:nth-child(5)").css(getPlayerScoreStyle(i,e.player)),$("#row"+i.id+"ScoreBuilding").css(getPlayerScoreBuildingStyle(i,e.player)),$("#row"+i.id+"ScoreScience").css(getPlayerScoreScienceStyle(i,e.player)),$("#row"+i.id+"ScoreMilitary").css(getPlayerScoreMilitaryStyle(i,e.player)),$("#row"+i.id+"ScoreDefense").css(getPlayerScoreDefenseStyle(i,e.player)),$("#row"+i.id+" td:nth-child(1)").css(getPlayerRowTdStyle(i,e.player)),$("#row"+i.id+" td:nth-child(2)").css(getPlayerRowTdStyle(i,e.player))})),e.missing_ids.length>0&&3==ownGalaxy&&227==ownSystem&&($("content").prepend('<button id="fetchMissingIdsBtn">Fetch '+e.missing_ids.length+" missing IDs</button>"),$("#fetchMissingIdsBtn").click((function(){playerUpdateQueue=e.missing_ids,$("#fetchMissingIdsBtn").remove(),processQueue()}))),e.outdated_ids.length>0&&3==ownGalaxy&&227==ownSystem&&($("content").prepend('<button id="fetchUpdatableIdsBtn">Fetch '+e.outdated_ids.length+" outdated IDs</button>"),$("#fetchUpdatableIdsBtn").click((function(){playerUpdateQueue=e.outdated_ids,$("#fetchMissingIdsBtn").remove(),processQueue()})))}))}},1034:()=>{window.processQueue=function(){if(playerUpdateQueue.length>0){getProgressBar().html("Updating "+playerUpdateQueue.length+" items ...");var e=playerUpdateQueue.shift();$("content").append('<iframe class="player-iframe" id="iframe'+e+'" width="1" height="1" src="/game.php?page=playerCard&id='+e+'"></iframe>'),$("#iframe"+e).animate({left:0},200,(function(){$("iframe").length>=10&&$($("iframe")[0]).remove(),$("#row"+e+" > td").css({backgroundColor:"green"}),processQueue()}))}else getProgressBar().html("Save & reload"),$("body").animate({opacity:0},1e3,(function(){window.location.reload()}))}},9683:()=>{window.getProgressBar=function(){const e=$("#progress-bar");return 1===e.length?e:($("body").prepend('<div style="padding: 10px 15px; background: '+getRgb(cBlue)+"; color: "+getRgb(cWhite)+'; z-index: 10000; position: fixed; top: 0; left: 0; right: 0;" id="progress-bar"></div>'),$("#progress-bar"))}},6813:()=>{window.CsvToArray=function(e){return(e=e||"").split(",")||[]}},2545:()=>{window.displayAllianceChart=function(e){$("head").append('<script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>'),getJSON("alliances/"+e+"/chart",(function(e){const t=JSON.parse(e.responseText),i=t.dates,a=t.players,n=[],r=["red","orange","yellow","green","blue","indigo","violette","white","lightgreen","lightblue"];for(let e=0;e<t.datasets.length;e++)n.push({label:a[e],data:t.datasets[e],borderColor:r[e%r.length],borderWidth:1,radius:1});$("content").append('<canvas id="chart" style="width: 95%; margin: 15px auto; height: 500px"></canvas>'),$("body").animate({opacity:1},500,(function(){new Chart(document.getElementById("chart"),{type:"line",data:{labels:i,datasets:n},options:{scales:{x:{}},plugins:{legend:{}}}})}))}))}},7977:()=>{window.displayChart=function(e){$("head").append('<script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>'),getJSON("players"+(e?"/"+e:"")+"/chart",(function(t){const i=JSON.parse(t.responseText),a=[],n=[],r=[],s=[],l=[],o=[],d=[],c=[],h=[];$.each(i,(function(e,t){a.push(e),n.push(t.own_score),r.push(t.score_max),s.push(t.score_relative),l.push(t.score_diff),o.push(t.score_building),d.push(t.score_science),c.push(t.score_military),h.push(t.score_defense)})),$("body").animate({opacity:1},500,(function(){new Chart(document.getElementById("playerChart"),{type:"line",data:{labels:a,datasets:[{label:"Punkte",data:r,borderColor:"#008fff",borderWidth:2,radius:2},{label:"Eigene Punkte",data:n,borderColor:"#ffffff",borderWidth:1,borderDash:[5,5],radius:1},{label:"Geb√§ude",data:o,borderColor:"#addc8d",borderWidth:1,borderDash:[2,2],radius:2},{label:"Forschung",data:d,borderColor:"#843bff",borderWidth:1,borderDash:[2,2],radius:2},{label:"Milit√§r",data:c,borderColor:"#c52b2f",borderWidth:1,borderDash:[2,2],radius:2},{label:"Verteidigung",data:h,borderColor:"#ffc166",borderWidth:1,borderDash:[2,2],radius:2}]},options:{scales:{x:{display:void 0!==e}},plugins:{legend:{display:void 0!==e}}}}),new Chart(document.getElementById("playerChartBar"),{data:{labels:s,datasets:[{type:"bar",label:"Punktedifferenz relativ (in %)",yAxisID:"y",data:s,backgroundColor:function(e){var t=e.dataIndex;return e.dataset.data[t]<0?"#ee4d2e":"#addc8d"}},{type:"line",label:"Punktedifferenz absolut",yAxisID:"y2",data:l,pointRadius:0,borderWidth:2,borderColor:"#888888"}]},options:{scales:{x:{display:!1},y:{type:"linear",position:"left"},y2:{type:"linear",position:"right"}},plugins:{legend:{display:!1}}}})}))}))}},3795:()=>{window.displayOverviewHighlight=function(e,t,i,a="Schwellwert"){let n='<tr class="settings-filter settings-filter-highlighting">';return n+='<td width="50%" style="text-align: left; color: '+getRgb(i)+'">'+e+"</td>",n+='<td width="4%">',n+='<input id="'+t+'" class="phFilter" data-alias="'+t+'_enable" value="1" type="checkbox" '+("1"===getValue(t+"_enable")?"checked":"")+">",n+="</td>",n+='<td width="46%" colspan="2">',n+='<input id="'+t+'_value" class="phFilter" data-alias="'+t+'_value" style="width: 100%" placeholder="'+a+'" value="'+(getValue(t+"_value")||"")+'">',n+="</td>",n+="</tr>",n}},5032:()=>{window.displayOverviewSettingsPlayerVar=function(e,t,i){let a='<tr class="settings-filter settings-filter-'+i+'">';return a+='<td width="50%" style="text-align: left">'+e+"</td>",a+='<td width="50%" colspan="3">',a+='<input id="'+t+'" class="phFilter" data-alias="'+t+'" style="width: 100%" placeholder="'+e+'" value="'+(getValue(t)||"")+'">',a+="</td>",a}},826:()=>{window.displayOverviewSettingsRange=function(e,t){let i='<tr class="settings-filter settings-filter-thresholds">';return i+='<td width="50%" style="text-align: left">'+e+"</td>",i+='<td width="4%">',i+='<input id="'+t+'_enable" class="phFilter" data-alias="'+t+'_enable" value="1" type="checkbox" '+("1"===getValue(t+"_enable")?"checked":"")+">",i+="</td>",i+='<td width="23%">',i+='<input id="'+t+'_min" class="phFilter" data-alias="'+t+'_min" style="width: 100%" placeholder="min" value="'+(getValue(t+"_min")||"")+'">',i+="</td>",i+='<td width="23%">',i+='<input id="'+t+'_max" class="phFilter" data-alias="'+t+'_max" style="width: 100%" placeholder="max" value="'+(getValue(t+"_max")||"")+'">',i+="</td>",i}},1261:()=>{window.displayOverviewSettingsSelect=function(e,t,i){let a='<tr class="settings-filter settings-filter-filter">';return a+='<td width="50%" style="text-align: left">'+e+"</td>",a+='<td colspan="3">',a+='<select id="'+t+'_select" class="phFilter" data-alias="'+t+'" style="width: 100%">',$.each(i,(function(e,i){a+='<option value="'+e+'" '+(getValue(t)===e?"selected":"")+">"+i+"</option>"})),a+="</select>",a+="</td>",a}},8679:()=>{window.displayOverviewSettings=function(){let e="";return e+='<div id="phSettings" style="margin: 25px 0; max-width: 100% !important; '+("1"===getValue("hideSettings")?"display: none":"")+'">',e+='<div style="padding: 12px; text-align: left; background: #121314">',e+="<b>Einstellungen</b>",e+='<a id="settingsFilterGeneral" class="settings-button settings-button-general" style="cursor: pointer; display: inline-block; margin-left: 10px; padding: 5px 10px; border: 1px solid rgba(255, 255, 255, 0.1)">Allgemein</a>',e+='<a id="settingsFilterHighlighting" class="settings-button settings-button-highlighting" style="cursor: pointer; display: inline-block; margin-left: 2px; padding: 5px 10px; border: 1px solid rgba(255, 255, 255, 0.1)">Highlighting</a>',e+='<a id="settingsFilterFilter" class="settings-button settings-button-filter" style="cursor: pointer; display: inline-block; margin-left: 2px; padding: 5px 10px; border: 1px solid rgba(255, 255, 255, 0.1)">Filter</a>',e+='<a id="settingsFilterThresholds" class="settings-button settings-button-thresholds" style="cursor: pointer; display: inline-block; margin-left: 2px; padding: 5px 10px; border: 1px solid rgba(255, 255, 255, 0.1)">Thresholds</a>',e+='<a id="settingsFilterFriends" class="settings-button settings-button-friends" style="cursor: pointer; display: inline-block; margin-left: 2px; padding: 5px 10px; border: 1px solid rgba(255, 255, 255, 0.1)">Freunde &amp; Feinde</a>',e+="</div>",e+='<table width="100%" class="table519">',e+='<tr class="settings-filter settings-filter-general"><th colspan="4">Allgemein</th></tr>',e+='<tr class="settings-filter settings-filter-general"><td colspan="4"><p style="font-size: 11px; text-align: left;">Solltest Du keinen API Key besitzen, wende Dich bitte per Discord an @eichhorn#1526.<br><b style="color: '+getRgb(cRed)+'">Gib Deinen API Key nicht an andere weiter!</b></p></td></tr>',e+='<tr class="settings-filter settings-filter-general">',e+='<td width="50%" style="text-align: left">API Key</td>',e+='<td colspan="3"><input class="phFilter" data-alias="api_key" type="text" style="width: 100%" placeholder="API Key" value="'+(getValue("api_key")||"")+'"></td>',e+='<tr class="settings-filter settings-filter-general">',e+='<td width="50%" style="text-align: left">Debug-Modus</td>',e+='<td><input type="checkbox" class="phFilter" data-alias="debug_mode" value="1" '+("1"===getValue("debug_mode")?"checked":"")+'></td><td colspan="2" style="text-align: left; color: #888">Zeige Infos in der Konsole</td>',e+='<tr class="settings-filter settings-filter-general">',e+='<td width="50%" style="text-align: left">Developer-Modus</td>',e+='<td><input type="checkbox" class="phFilter" data-alias="developer_mode" value="1" '+("1"===getValue("developer_mode")?"checked":"")+'></td><td colspan="2" style="text-align: left; color: #888">Nutzt die Entwickler-API (nur zum Coden!)</td>',e+='<tr class="settings-filter settings-filter-general">',e+='<td width="50%" style="text-align: left">Leserliches Datumsformat</td>',e+='<td><input type="checkbox" class="phFilter" data-alias="date_for_humans" value="1" '+("1"===getValue("date_for_humans")?"checked":"")+'></td><td colspan="2" style="text-align: left; color: #888">z.B. "vor 5min" statt Datum/Uhrzeit. Erfordert Reload (F5)!</td>',e+=displayOverviewSettingsPlayerVar("Zeilen im Spio-Bericht (je Kategorie)","filter_spy_report_lines","general"),e+='<tr class="settings-filter settings-filter-highlighting"><th colspan="4">HIGHLIGHTING</th></tr>',e+='<tr class="settings-filter settings-filter-highlighting"><td colspan="4"><p style="font-size: 11px; text-align: left;">Standardm√§√üig werden die Spielerwerte als Referenz genommen; F√ºr Galaxie/System/Planet wird standardm√§√üig der aktive Planet gesetzt. Ist die Checkbox angehakt, wird der jeweilige Wert vom Eingetragenen √ºberschrieben. Die Spieler-Werte werden in der Farbskala wei√ü (0 Punkte) bis Farbe (gesetztes Punktelimit) dargestellt.</p></td></tr>',e+=displayOverviewHighlight("Gesamtpunkte","highlight_score",cBlue),e+=displayOverviewHighlight("Geb√§udepunkte","highlight_score_building",cGreen),e+=displayOverviewHighlight("Forschungspunkte","highlight_score_science",cPink),e+=displayOverviewHighlight("Milit√§rpunkte","highlight_score_military",cRed),e+=displayOverviewHighlight("Verteidigungspunkte","highlight_score_defense",cYellow),e+=displayOverviewHighlight("Galaxie √ºberschreiben? (z.B. 4 f√ºr Gala 4)","show_galaxy",cWhite,"Galaxie Nummer"),e+='<tr class="settings-filter settings-filter-filter"><th colspan="4">FILTER</th></tr>',e+=displayOverviewSettingsSelect(getHotkeyIcon("I")+"Inaktive Spieler","filter_inactive",{ALL:"Anzeigen",HIDE:"Ausblenden",ONLY:"Andere ausblenden"}),e+=displayOverviewSettingsSelect(getHotkeyIcon("N")+"Spieler mit Noobschutz","filter_noobs",{ALL:"Anzeigen",HIDE:"Ausblenden",ONLY:"Andere ausblenden"}),e+=displayOverviewSettingsSelect(getHotkeyIcon("U")+"Spieler im Urlaubsmodus","filter_vacation",{ALL:"Anzeigen",HIDE:"Ausblenden",ONLY:"Andere ausblenden"}),e+=displayOverviewSettingsSelect(getHotkeyIcon("A")+"Spieler der Allianz","filter_alliance",{ALL:"Anzeigen",HIDE:"Ausblenden",ONLY:"Andere ausblenden"}),e+=displayOverviewSettingsSelect(getHotkeyIcon("S")+"Spieler mit Spiobericht","filter_spy_report",{ALL:"Anzeigen",HIDE:"Ausblenden",ONLY:"Andere ausblenden"}),e+=displayOverviewSettingsSelect(getHotkeyIcon("K")+"Spieler mit Kampfbericht","filter_battle_report",{ALL:"Anzeigen",HIDE:"Ausblenden",ONLY:"Andere ausblenden"}),e+='<tr class="settings-filter settings-filter-thresholds"><th colspan="4">THRESHOLDS</th></tr>',e+=displayOverviewSettingsRange(getHotkeyIcon("P",!0)+"Punkte","filter_score"),e+=displayOverviewSettingsRange(getHotkeyIcon("G",!0)+"Geb√§udepunkte","filter_score_building"),e+=displayOverviewSettingsRange(getHotkeyIcon("F",!0)+"Forschungspunkte","filter_score_science"),e+=displayOverviewSettingsRange(getHotkeyIcon("M",!0)+"Milit√§rpunkte","filter_score_fleet"),e+=displayOverviewSettingsRange(getHotkeyIcon("V",!0)+"Verteidigungspunkte","filter_score_defense"),e+=displayOverviewSettingsRange(getHotkeyIcon("I",!0)+"Inaktiv seit ... Stunden","filter_inactive_since"),e+=displayOverviewSettingsRange(getHotkeyIcon("K",!0)+"Stunden seit letztem Kampfbericht","filter_last_battle_report"),e+=displayOverviewSettingsRange(getHotkeyIcon("S",!0)+"Stunden seit letztem Spionagebericht","filter_last_spy_report"),e+=displayOverviewSettingsRange(getHotkeyIcon("Q",!0)+"Metall (letzte Spionage)","filter_metal"),e+=displayOverviewSettingsRange(getHotkeyIcon("W",!0)+"Kristall (letzte Spionage)","filter_crystal"),e+=displayOverviewSettingsRange(getHotkeyIcon("E",!0)+"Deuterium (letzte Spionage)","filter_deuterium"),e+='<tr class="settings-filter settings-filter-friends"><th colspan="4">FREUNDE &amp; FEINDE</th></tr>',e+='<tr class="settings-filter settings-filter-friends"><td colspan="4" style="text-align: left">Bitte kommagetrennt die Spieler- bzw. Allianz-IDs eintragen. Die IDs findet Ihr in der URL der Spieler- bzw. Allianzprofile.<br>Betroffene Spieler und Allianzen werden in der Planeten√ºbersicht farblich hervorgehoben.</td></tr>',e+=displayOverviewSettingsPlayerVar("Befreundete Allianz-IDs","filter_ids_friend_alliances","friends"),e+=displayOverviewSettingsPlayerVar("Befreundete Spieler-IDs","filter_ids_friends","friends"),e+=displayOverviewSettingsPlayerVar("Verfeindete Allianz-IDs","filter_ids_enemy_alliances","friends"),e+=displayOverviewSettingsPlayerVar("Verfeindete Spieler-IDs","filter_ids_enemies","friends"),e+="</table>",e+="</div>",e}},964:()=>{window.formatTimeDiff=function(e){if(0===getInt(e))return"---";const t=Math.ceil(e-(new Date).getTime()/1e3);if(t<0)return"---";const i=Math.floor(t/3600),a=t%3600,n=Math.floor(a/60),r=a%60;return addTrailingZeros(i)+":"+addTrailingZeros(n)+":"+addTrailingZeros(r)},window.addTrailingZeros=function(e){return e<=0?"00":e<10?"0"+e:e}},1292:()=>{window.getColorAlt=function(e,t,i){var a=1===t?1:t-.33,n=1-(a=(a=a<0?0:a)>1?1:a);n=(n=n>1?1:n)<0?0:n;var r=[Math.round(e[0]*a+i[0]*n),Math.round(e[1]*a+i[1]*n),Math.round(e[2]*a+i[2]*n)];return"rgb("+r[0]+", "+r[1]+", "+r[2]+");"+(1===t?"font-weight: bold":"")}},9487:()=>{window.getColorIntensity=function(e,t){var i=e/t*255;return i>255?255:i}},3741:()=>{window.getColor=function(e,t){var i=[255,255,255],a=t,n=1-(a=(a=a<0?0:a)>1?1:a);n=(n=n>1?1:n)<0?0:n;var r=[Math.round(e[0]*a+i[0]*n),Math.round(e[1]*a+i[1]*n),Math.round(e[2]*a+i[2]*n)];return"rgb("+r[0]+", "+r[1]+", "+r[2]+")"}},7327:()=>{window.getCoordinates=function(e){return!!e&&e.match(/([0-9]+)\:([0-9]+)\:([0-9]+)/)}},2015:()=>{window.getHotkeyIcon=function(e,t=!1){let i="";return t&&(i=getHotkeyIcon('<i class="fa fa-arrow-up"></i>')),i+'<span style="width: 21px; outline: 1px solid '+getRgb(cRed)+"; outline-offset: -1px; display: inline-block; font-size: 10px; line-height: 21px; text-align: center; margin-right: 5px; border-radius: 2px; background: "+getRgb(cBlack)+"; color: "+getRgb(cRed)+'">'+e+"</span>"}},7652:()=>{window.getInt=function(e){return parseInt((null!=e&&""!==e?e:"0").toString().replace(/\./g,""))}},9227:()=>{window.getMaxValue=function(e,t){let i=null;return $.each(e,(function(e,a){parseInt(a[t])>i&&(i=parseInt(a[t]))})),i}},121:()=>{window.getPlayerAttributeStyle=function(e,t,i,a){let n=1;return cfgHighlight[i]&&cfgHighlight[i].enabled?n=cfgHighlight[i].threshold:t&&t[i]&&(n=getInt(t[i])),{color:getColor(a,getInt(e[i])/n)}},window.getPlayerScoreStyle=function(e,t){return getPlayerAttributeStyle(e,t,"score",cBlue)},window.getPlayerScoreBuildingStyle=function(e,t){return getPlayerAttributeStyle(e,t,"score_building",cGreen)},window.getPlayerScoreScienceStyle=function(e,t){return getPlayerAttributeStyle(e,t,"score_science",cPink)},window.getPlayerScoreMilitaryStyle=function(e,t){return getPlayerAttributeStyle(e,t,"score_military",cRed)},window.getPlayerScoreDefenseStyle=function(e,t){return getPlayerAttributeStyle(e,t,"score_defense",cYellow)}},2432:()=>{window.getPlayerRowTdStyle=function(e,t){if(1===e.on_vacation)return{color:getRgb(cBlue)};if(null!==ownPlayer&&null!==ownPlayer.alliance_id&&(12===e.alliance_id||95===e.alliance_id))return{color:getRgb(cGreen)};if(1===e.is_inactive)return{color:getRgb(cCyan)};if(getInt(e.score)<5e3&&getInt(e.score)<getInt(t)/5)return{color:getRgb(cGray)};if(t<5e3&&getInt(e.score)>5*getInt(t))return{color:getRgb(cRed)};const i=CsvToArray(getValue("filter_ids_friend_alliances")),a=CsvToArray(getValue("filter_ids_friends")),n=CsvToArray(getValue("filter_ids_enemy_alliances")),r=CsvToArray(getValue("filter_ids_enemies"));for(let t=0;t<i.length;t++)if(i[t].toString()===(e.alliance_id||"").toString())return{color:"rgb(192, 184, 92)"};for(let t=0;t<a.length;t++)if(a[t].toString()===(e.id||"").toString())return{color:"rgb(192, 184, 92)"};for(let t=0;t<n.length;t++)if(n[t].toString()===(e.alliance_id||"").toString())return{color:getRgb(cRed)};for(let t=0;t<r.length;t++)if(r[t].toString()===(e.id||"").toString())return{color:getRgb(cRed)};return{}}},9438:()=>{window.getPlayerRowStyle=function(e,t){if(1===e.on_vacation)return{background:getRgb(cBlue)};if(null!==ownPlayer&&null!==ownPlayer.alliance_id&&(12===e.alliance_id||95===e.alliance_id))return{background:getRgb(cGreen)};if(1===e.is_inactive)return{background:getRgb(cCyan)};if(getInt(e.score)<5e3&&getInt(e.score)<t/5)return{background:getRgb(cGray)};if(t<5e3&&getInt(e.score)>5*t)return{background:getRgb(cRed)};const i=CsvToArray(getValue("filter_ids_friend_alliances")),a=CsvToArray(getValue("filter_ids_friends")),n=CsvToArray(getValue("filter_ids_enemy_alliances")),r=CsvToArray(getValue("filter_ids_enemies"));for(let t=0;t<i.length;t++)if(i[t].toString()===(e.alliance_id||"").toString())return{background:"rgb(192, 184, 92)"};for(let t=0;t<a.length;t++)if(a[t].toString()===(e.id||"").toString())return{background:"rgb(192, 184, 92)"};for(let t=0;t<n.length;t++)if(n[t].toString()===(e.alliance_id||"").toString())return{background:getRgb(cRed)};for(let t=0;t<r.length;t++)if(r[t].toString()===(e.id||"").toString())return{background:getRgb(cRed)};return{}}},8064:()=>{window.getRgb=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}},2805:()=>{window.getStyle=function(e){return 0===getInt(e)?"text-gray":getInt(e)<0?"text-red":"text-green"}},6590:()=>{window.hotkeys=function(){$(window).keypress((function(e){0!==$("*:focus").length||(103===e.keyCode&&(document.location.href="/game.php?page=overview"),104!==e.keyCode)||(document.location.href="/game.php?page=messages&category=100")}))}},9130:()=>{window.numberFormat=function(e,t=!1){if(t){let t="K";return 0===(e=getInt(e))?"":(e>1e6&&(e/=1e3,t="KK"),(Math.round(e/100)/10).toFixed(1)+t)}return Math.floor(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}},7859:()=>{window.PlanetResourceNotification=function(){this.addNotification=function(e,t,i,a,n){setValue(e+"_notification_resourceId",t),setValue(e+"_notification_metal",parseInt(i)),setValue(e+"_notification_crystal",parseInt(a)),setValue(e+"_notification_deuterium",parseInt(n)),showMessage("Benachrichtigung gespeichert."),$("body").animate({left:0},1e3,(()=>{window.location.reload()}))},this.removeNotification=function(e){setValue(e+"_notification_resourceId",null),setValue(e+"_notification_metal",null),setValue(e+"_notification_crystal",null),setValue(e+"_notification_deuterium",null),window.location.reload()},this.hasNotification=function(e,t){return parseInt(getValue(e+"_notification_resourceId"))===parseInt(t)},this.getFinishTime=function(e){if(0===getInt(getValue(e+"_notification_resourceId")))return null;let t=this.getFinishTimeForResource(e,"metal"),i=this.getFinishTimeForResource(e,"crystal"),a=this.getFinishTimeForResource(e,"deuterium");return a>i&&a>t?a:i>t?i:t<=(new Date).getTime()/1e3?null:t},this.getFinishTimeForResource=function(e,t){const i=getInt(getValue(e+"_notification_"+t)),a=getInt(getValue(e+"_"+t)),n=getInt(getValue(e+"_production_"+t)),r=getInt(getValue(e+"_resource_update")),s=i-a<0?0:i-a,l=s<0?0:s/n*86400;return Math.ceil(r/1e3+l)},this.getDiffForResource=function(e,t){const i=getInt(getValue(e+"_notification_"+t)),a=getInt(getValue(e+"_"+t));return numberFormat(i-a<0?0:i-a)}}},1688:()=>{window.replaceFixColors=function(){$("content *[style]").each((function(e,t){-1!==$(t).attr("style").search(/color\:lime/)&&($(t).attr("style",$(t).attr("style").replace(/color\:lime/,"")),$(t).addClass("text-green")),-1!==$(t).attr("style").search(/color\:\#ffd600/)&&($(t).attr("style",$(t).attr("style").replace(/color\:\#ffd600/,"")),$(t).addClass("text-red")),-1!==$(t).attr("style").search(/color\:red/)&&($(t).attr("style",$(t).attr("style").replace(/color\:\#ffd600/,"")),$(t).addClass("text-red"))}))}},3225:()=>{window.Resources=function(){const e=this;this.sumMetal=0,this.sumCrystal=0,this.sumDeuterium=0,this.sumLimitMetal=0,this.sumLimitCrystal=0,this.sumLimitDeuterium=0,this.init=function(){setValue(ownCoords[0]+"_metal",getInt($("#current_metal").html()).toString()),setValue(ownCoords[0]+"_crystal",getInt($("#current_crystal").html()).toString()),setValue(ownCoords[0]+"_deuterium",getInt($("#current_deuterium").html()).toString()),setValue(ownCoords[0]+"_resource_update",(new Date).getTime().toString()),e.updateVars()},this.updateVars=function(){let t;this.sumMetal=0,this.sumCrystal=0,this.sumDeuterium=0,this.sumProdMetal=0,this.sumProdCrystal=0,this.sumProdDeuterium=0,this.sumLimitMetal=0,this.sumLimitCrystal=0,this.sumLimitDeuterium=0,$("#planetSelector option").each((function(i,a){t=getCoordinates(a.innerHTML)[0],e.updateVar(t,"metal"),e.updateVar(t,"crystal"),e.updateVar(t,"deuterium")})),$("#sumMetal").html(numberFormat(this.sumMetal+(pageOverview?pageOverview.sumFleetMetal:0),!0)),$("#sumCrystal").html(numberFormat(this.sumCrystal+(pageOverview?pageOverview.sumFleetCrystal:0),!0)),$("#sumDeuterium").html(numberFormat(this.sumDeuterium+(pageOverview?pageOverview.sumFleetDeuterium:0),!0)),$("#sumLimitMetal").html(numberFormat(this.sumLimitMetal,!0)),$("#sumLimitCrystal").html(numberFormat(this.sumLimitCrystal,!0)),$("#sumLimitDeuterium").html(numberFormat(this.sumLimitDeuterium,!0)),$("#infoMetal").attr("data-tooltip-content",numberFormat(Math.round(this.sumProdMetal/24),!0)+" / Stunde<br>"+numberFormat(this.sumProdMetal/1e3,!0)+" / Tag"),$("#infoCrystal").attr("data-tooltip-content",numberFormat(Math.round(this.sumProdCrystal/24),!0)+" / Stunde<br>"+numberFormat(this.sumProdCrystal/1e3,!0)+" / Tag"),$("#infoDeuterium").attr("data-tooltip-content",numberFormat(Math.round(this.sumProdDeuterium/24),!0)+" / Stunde<br>"+numberFormat(this.sumProdDeuterium/1e3,!0)+" / Tag"),$("#current_metal").stop().animate({left:0},1e3,(()=>{e.updateVars()}))},this.updateVar=function(e,t){const i=getInt(getValue(e+"_"+t)),a=getInt(getValue(e+"_production_"+t)),n=getInt(getValue(e+"_limit_"+t)),r=getValue(e+"_resource_update")?(new Date).getTime()-getInt(getValue(e+"_resource_update")):null,s=r?i+a/86400*r/1e3:i;switch(s>n?$(".ress_"+t+"_"+e.replace(/\:/g,"_")).html('<span class="text-red" title="Die Lager sind vermutlich voll. Produktion gestoppt.">'+numberFormat(parseInt(s),!0)+'<small style="color: #888"> / '+numberFormat(parseInt(n),!0)+"</small></span>"):$(".ress_"+t+"_"+e.replace(/\:/g,"_")).html(numberFormat(parseInt(s),!0)+'<small style="color: #888"> / '+numberFormat(parseInt(n),!0)+"</small>"),t){case"metal":this.sumMetal+=parseInt(s),this.sumProdMetal+=getInt(a),this.sumLimitMetal+=parseInt(n);break;case"crystal":this.sumCrystal+=parseInt(s),this.sumProdCrystal+=getInt(a),this.sumLimitCrystal+=parseInt(n);break;case"deuterium":this.sumDeuterium+=parseInt(s),this.sumProdDeuterium+=getInt(a),this.sumLimitDeuterium+=parseInt(n)}}}},1276:()=>{window.savePhOption=function(e,t){setValue(e,t),pageOverview.renderHtml()}},1724:()=>{window.showMessage=function(e,t){let i,a;"danger"===t?(i="#161618",a="#d23c22"):(i="#161618",a="#5cb85c"),$("#alertBox").remove(),$("body").prepend('<div id="alertBox" style="padding: 25px 15px; background: '+i+"; color: "+a+'; z-index: 10000; position: fixed; top: 0; left: 0; right: 0; opacity: 0; text-align: center; font-weight: bold;">'+e+"</div>"),$("#alertBox").animate({opacity:1},250).animate({opacity:1},2500).animate({opacity:0},500,(function(){$(this).remove()}))}},8089:()=>{window.showSpyReportHistoryBox=function(e,t){var i='<table width="100%" style="max-width: 100% !important" class="table519"><tr>';return i+='<th style="text-align: left; width: 250px" width="200">Zeit</th>',$(e[t].data[0].values).each((function(e,t){i+='<th style="text-align: center;">'+t.name+"</th>"})),i+="</tr>",$(e[t].data).each((function(e,t){i+="<tr>",i+='<td style="text-align: left;"><a class="tooltip" data-tooltip-content="'+t.dateTime+'">'+t.timestamp+"</a> ("+((t.reporter?t.reporter.name:"???")||"???")+")</td>",$(t.values).each((function(e,t){t.value=null===t.value?"---":t.value,i+='<td style="position: relative; '+("0"!==t.value.toString()&&"---"!==t.value.toString()?"color: #fff":"color: #444")+'">',i+=t.value,null===t.difference||0===t.difference||t.valueBefore===t.value||(t.valueBefore&&t.valueBefore>t.value?i+=' <span style="color: '+getRgb(cRed)+'; position: absolute; right: 15px">'+t.difference+"</span>":i+=' <span style="color: '+getRgb(cGreen)+'; position: absolute; right: 15px">+'+t.difference+"</span>"),i+="</td>"})),i+="</tr>"})),i+="</table>"}},9002:()=>{window.showSpyReportHistory=function(e,t,i,a){a||(a=getValue("filter_spy_report_lines")||10),getJSON("spy-reports/"+e+"/"+t+"/"+i+"?lines="+a,(function(a){const n=JSON.parse(a.responseText);$("#spyReportBackdrop").remove(),$("#spyReportOverlay").remove(),$("body").append('<div id="spyReportBackdrop" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.95); z-index: 10000"></div>'),$("body").append('<div id="spyReportOverlay" style="position: fixed; top: 25px; left: 25px; right: 25px; max-height: 95%; z-index: 10000; background: #161618; overflow-y: auto"></div>');var r=$("#spyReportOverlay"),s='<div style="padding: 10px; text-align: center">';s+='<b>Spionage-Historie von <a href="/game.php?page=galaxy&galaxy='+(e||"")+"&system="+(t||"")+'">'+e+":"+t+":"+i+"</a></b><br>",s+='<a href="javascript:void(0)" onclick="showSpyReportHistory('+e+","+t+","+i+')">Standard</a> | ',s+='<a href="javascript:void(0)" onclick="showSpyReportHistory('+e+","+t+","+i+', 5)">5 Zeilen</a> | ',s+='<a href="javascript:void(0)" onclick="showSpyReportHistory('+e+","+t+","+i+', 10)">10 Zeilen</a> | ',s+='<a href="javascript:void(0)" onclick="showSpyReportHistory('+e+","+t+","+i+', 999999)">Alle Zeilen</a> ',s+="</div>",s+=showSpyReportHistoryBox(n,"resources"),s+=showSpyReportHistoryBox(n,"fleet"),s+=showSpyReportHistoryBox(n,"defense"),s+=showSpyReportHistoryBox(n,"science"),s+=showSpyReportHistoryBox(n,"buildings"),$(r).html(s),$(window).keydown((function(e){"Escape"===e.key&&($("#spyReportOverlay").remove(),$("#spyReportBackdrop").remove())})),$("#spyReportBackdrop").click((function(){$("#spyReportOverlay").remove(),$("#spyReportBackdrop").remove()}))}))}},3738:()=>{window.isNewerVersionAvailable=function(e){e!==version&&(setValue("version",e),window.location.reload())}},1879:()=>{window.getJSON=function(e,t){const i=-1!==e.search(/\?/)?"&":"?";return e=apiUrl+e+i+"api_key="+apiKey+"&version="+version,debugMode&&console.log("GET",e),xmlhttpRequest({method:"GET",url:e,onload:function(e){debugMode&&console.log(e.responseText),t(e)},onerror:function(e){debugMode&&console.log(e.status)}})}},1398:()=>{window.postJSON=function(e,t,i){return e=apiUrl+e+"?api_key="+apiKey+"&version="+version,debugMode&&console.log("POST",e,t),xmlhttpRequest({method:"POST",data:JSON.stringify(t),url:e,headers:{"Content-Type":"application/json"},onload:function(e){debugMode&&console.log(e.status),i(e)},onerror:function(e){debugMode&&console.log(e.status)}})}}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";a(3989),a(6813),a(2545),a(7977),a(8679),a(3795),a(5032),a(1261),a(826),a(964),a(3741),a(1292),a(9487),a(7327),a(2015),a(7652),a(9227),a(121),a(2432),a(9438),a(8064),a(2805),a(6590),a(9130),a(7859),a(1688),a(3225),a(1276),a(1724),a(9002),a(8089),a(3738),a(1879),a(1398),a(6809),a(7328),a(6170),a(5550),a(3551),a(8164),a(1497),a(691),a(2419),a(896),a(524),a(6789),a(2658),a(7577),a(1034),a(9683),window.updateConfigVars=function(){cfgHighlight={score:{enabled:"1"===(getValue("highlight_score_enable")||"0"),threshold:getInt(getValue("highlight_score_value")||"")},score_building:{enabled:"1"===(getValue("highlight_score_building_enable")||"0"),threshold:getInt(getValue("highlight_score_building_value")||"")},score_science:{enabled:"1"===(getValue("highlight_score_science_enable")||"0"),threshold:getInt(getValue("highlight_score_science_value")||"")},score_military:{enabled:"1"===(getValue("highlight_score_military_enable")||"0"),threshold:getInt(getValue("highlight_score_military_value")||"")},score_defense:{enabled:"1"===(getValue("highlight_score_defense_enable")||"0"),threshold:getInt(getValue("highlight_score_defense_value")||"")}},e=getValue("filter_inactive")||"ALL",t=getValue("filter_noobs")||"ALL",i=getValue("filter_vacation")||"ALL",n=getValue("filter_alliance")||"ALL",r=getValue("filter_spy_report")||"ALL",s=getValue("filter_last_battle_report")||"ALL",l=getValue("filter_score_enable")||"0",o=getValue("filter_score_min")||"",d=getValue("filter_score_max")||"",c=getValue("filter_score_building_enable")||"0",h=getValue("filter_score_building_min")||"",g=getValue("filter_score_building_max")||"",p=getValue("filter_score_science_enable")||"0",u=getValue("filter_score_science_min")||"",f=getValue("filter_score_science_max")||"",m=getValue("filter_score_fleet_enable")||"0",y=getValue("filter_score_fleet_min")||"",b=getValue("filter_score_fleet_max")||"",_=getValue("filter_score_defense_enable")||"0",w=getValue("filter_score_defense_min")||"",x=getValue("filter_score_defense_max")||"",v=getValue("filter_inactive_since_enable")||"0",S=getValue("filter_inactive_since_min")||"",k=getValue("filter_inactive_since_max")||"",R=getValue("filter_last_battle_report_enable")||"0",I=getValue("filter_last_battle_report_min")||"",P=getValue("filter_last_battle_report_max")||"",V=getValue("filter_last_spy_report_enable")||"0",M=getValue("filter_last_spy_report_min")||"",C=getValue("filter_last_spy_report_max")||"",A=getValue("filter_metal_enable")||"0",E=getValue("filter_metal_min")||"",D=getValue("filter_metal_max")||"",z=getValue("filter_crystal_enable")||"0",F=getValue("filter_crystal_min")||"",G=getValue("filter_crystal_max")||"",T=getValue("filter_deuterium_enable")||"0",L=getValue("filter_deuterium_min")||"",H=getValue("filter_deuterium_max")||""},window.GetRestTimeFormat=function(e){return formatTimeDiff((new Date).getTime()/1e3+e)},window.getOverviewHeader=function(){let e='<table cellspacing="0"><tr><td width="50%%" style="text-align: left; padding: 5px 10px">';return e+='<a href="https://pr0game-hub.eskju.net/download/legend.png" target="_blank"><i class="fa fa-info-circle"></i> Legende</a>',e+=" // ",e+='<a href="https://pr0game-hub.eskju.net/download/faq.txt" target="_blank"><i class="fa fa-question-circle"></i> FAQ</a>',e+="</td>","1"===getValue("hideSettings")?e+='<td id="showSettings" style="text-align: right; padding: 5px 10px; cursor: pointer;"><i class="fa fa-cogs fa"></i> Einstellungen anzeigen</td>':e+='<td id="hideSettings" style="text-align: right; padding: 5px 10px; cursor: pointer;"><span style="color: lightgreen"><i class="fa fa-cogs"></i> Einstellungen ausblenden</span></td>',e+="</tr></table>",e+=displayOverviewSettings(),e},window.filterTableRow=function(a,$){if("HIDE"===e&&1===a.player.is_inactive)return!1;if("ONLY"===e&&0===a.player.is_inactive)return!1;if(null!==$){if("HIDE"===t&&0===a.player.is_inactive&&getInt(a.player.score)<5e3&&getInt(a.player.score)<getInt($.score)/5)return!1;if("ONLY"===t&&0===a.player.is_inactive&&(getInt(a.player.score)>=5e3||getInt(a.player.score)>=getInt($.score)/5))return!1}if("HIDE"===i&&1===a.player.on_vacation)return!1;if("ONLY"===i&&0===a.player.on_vacation)return!1;if($){if("HIDE"===n&&null!==a.player.alliance_id&&(12===a.alliance_id||95===a.alliance_id))return!1;if("ONLY"===n&&(null===a.player.alliance_id||12!==a.alliance_id&&95!==a.alliance_id))return!1}return!("HIDE"===r&&""!==a.last_spy_report||"ONLY"===r&&""===a.last_spy_report||"HIDE"===s&&""!==a.last_battle_report||"ONLY"===s&&""===a.last_battle_report||"1"===l&&getInt(o)>0&&getInt(o)>getInt(a.player.score)||"1"===l&&getInt(d)>0&&getInt(d)<getInt(a.player.score)||"1"===c&&getInt(h)>0&&getInt(h)>getInt(a.player.score_building)||"1"===c&&getInt(g)>0&&getInt(g)<getInt(a.player.score_building)||"1"===p&&getInt(u)>0&&getInt(u)>getInt(a.player.score_science)||"1"===p&&getInt(f)>0&&getInt(f)<getInt(a.player.score_science)||"1"===m&&getInt(y)>0&&getInt(y)>getInt(a.player.score_military)||"1"===m&&getInt(b)>0&&getInt(b)<getInt(a.player.score_military)||"1"===_&&getInt(w)>0&&getInt(w)>getInt(a.player.score_defense)||"1"===_&&getInt(x)>0&&getInt(x)<getInt(a.player.score_defense)||"1"===v&&getInt(S)>0&&getInt(S)>getInt(a.inactive_since)||"1"===v&&getInt(k)>0&&getInt(k)<getInt(a.inactive_since)||"1"===R&&getInt(I)>0&&getInt(I)>getInt(a.last_battle_report_hours)||"1"===R&&getInt(P)>0&&getInt(P)<getInt(a.last_battle_report_hours)||"1"===V&&getInt(M)>0&&getInt(M)>getInt(a.last_spy_report_hours)||"1"===V&&getInt(C)>0&&getInt(C)<getInt(a.last_spy_report_hours)||"1"===A&&getInt(E)>0&&getInt(E)>getInt(a.last_spy_metal)||"1"===A&&getInt(D)>0&&getInt(D)<getInt(a.last_spy_metal)||"1"===z&&getInt(F)>0&&getInt(F)>getInt(a.last_spy_crystal)||"1"===z&&getInt(G)>0&&getInt(G)<getInt(a.last_spy_crystal)||"1"===T&&getInt(L)>0&&getInt(L)>getInt(a.last_spy_deuterium)||"1"===T&&getInt(H)>0&&getInt(H)<getInt(a.last_spy_deuterium))},window.parseUrl=function(){const e=window.location.href.replace("www.","");if(location.hash&&location.hash.length>0){const e=location.hash.split(".");if("#hub"===e[0])return pageHub=new PageHub,void pageHub.loadPage(e[1])}else"https://pr0game.com/game.php"===e||0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=overview/)?(window.pageOverview=new PageOverview,pageOverview.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=statistics/)?parsePageStatistics():0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=messages/)?(window.pageMessages=new PageMessages,pageMessages.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=galaxy/)?(window.pageGalaxy=new PageGalaxy,pageGalaxy.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=playerCard/)?parsePagePlayerCard():0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=alliance/)?parsePageAlliance():0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=buildings/)?(window.pageBuildings=new PageBuildings,pageBuildings.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=shipyard/)?(window.pageHangar=new PageHangar,pageHangar.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=research/)?(window.pageResearch=new PageResearch,pageResearch.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=fleetTable/)?(window.pageFleet=new PageFleet,pageFleet.init()):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=fleetStep/)?$(window).keyup((function(e){1===$("content form").length&&0===$("*:focus").length&&"Enter"===e.key&&$("content .table519 form").submit()})):0===e.search(/https\:\/\/pr0game\.com\/game\.php\?page\=resources/)&&(window.pageResources=new PageResources,pageResources.init())},window.cBlack=[22,22,24],window.cWhite=[242,245,244],window.cRed=[238,77,46],window.cGray=[136,136,136],window.cPink=[255,0,130],window.cGreen=[92,184,92],window.cBlue=[0,143,255],window.cYellow=[247,197,22],window.cCyan=[0,255,255],window.ownCoords=getCoordinates($("#planetSelector option:selected").html()),window.ownGalaxy=ownCoords[1],window.ownSystem=ownCoords[2],window.ownPlanet=ownCoords[3],window.showGalaxy=ownGalaxy,window.ownPlayer=null,window.menu=null,window.pageHub=null,window.pageOverview=null,window.pageBuildings=null,window.pageHangar=null,window.pageDefense=null,window.pageResearch=null,window.pageGalaxy=null,window.pageFleet=null,window.pageMessages=null,window.pageTechnologies=null,window.pageResources=null,window.rxNumber="([.0-9]+)",window.cfgHighlight={};let e=getValue("filter_inactive")||"ALL",t=getValue("filter_noobs")||"ALL",i=getValue("filter_vacation")||"ALL",n=getValue("filter_alliance")||"ALL",r=getValue("filter_spy_report")||"ALL",s=getValue("filter_last_battle_report")||"ALL",l=getValue("filter_score_enable")||"0",o=getValue("filter_score_min")||"",d=getValue("filter_score_max")||"",c=getValue("filter_score_building_enable")||"0",h=getValue("filter_score_building_min")||"",g=getValue("filter_score_building_max")||"",p=getValue("filter_score_science_enable")||"0",u=getValue("filter_score_science_min")||"",f=getValue("filter_score_science_max")||"",m=getValue("filter_score_fleet_enable")||"0",y=getValue("filter_score_fleet_min")||"",b=getValue("filter_score_fleet_max")||"",_=getValue("filter_score_defense_enable")||"0",w=getValue("filter_score_defense_min")||"",x=getValue("filter_score_defense_max")||"",v=getValue("filter_inactive_since_enable")||"0",S=getValue("filter_inactive_since_min")||"",k=getValue("filter_inactive_since_max")||"",R=getValue("filter_last_battle_report_enable")||"0",I=getValue("filter_last_battle_report_min")||"",P=getValue("filter_last_battle_report_max")||"",V=getValue("filter_last_spy_report_enable")||"0",M=getValue("filter_last_spy_report_min")||"",C=getValue("filter_last_spy_report_max")||"",A=getValue("filter_metal_enable")||"0",E=getValue("filter_metal_min")||"",D=getValue("filter_metal_max")||"",z=getValue("filter_crystal_enable")||"0",F=getValue("filter_crystal_min")||"",G=getValue("filter_crystal_max")||"",T=getValue("filter_deuterium_enable")||"0",L=getValue("filter_deuterium_min")||"",H=getValue("filter_deuterium_max")||"";window.alert=function(e){window.location.reload()},$(window).on("hashchange",(function(){parseUrl()})),window.pageHub=new PageHub,pageHub.init(),window.menu=new Menu,menu.init(),hotkeys(),replaceFixColors(),(new Resources).init(),$("head").append('<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>'),parseUrl()})()})();